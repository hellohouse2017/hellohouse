<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<title>ç·šä¸Šç°½ç½²ä½å®¿å¥‘ç´„ | æºé ‚æ°‘å®¿ (Godin B&B)</title>
<meta name="description" content="æºé ‚æ°‘å®¿ç·šä¸Šä½å®¿å¥‘ç´„ç°½ç½²é é¢ã€‚è«‹æ–¼å…¥ä½å‰å®Œæˆç°½ç½²ä»¥ä¿éšœé›™æ–¹æ¬Šç›Šã€‚">
<meta name="robots" content="noindex, nofollow"> 

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/zh_tw.js"></script>

<style>
/* ---------------------------------------------------- */
/* --- 1. å…¨å±€è®Šæ•¸ & æ ¸å¿ƒè¨­å®š --- */
/* ---------------------------------------------------- */
:root {
    --primary-color: #3A6A8C;   /* æ²ˆç©©è— */
    --accent-warm: #C69C6D;     /* å¤§åœ°é‡‘ */
    --cta-bg: #B07D62;          /* ç£šç´… */
    
    --bg-light: #F9F7F5;        /* é é¢èƒŒæ™¯ */
    --bg-white: #FFFFFF;        /* å¡ç‰‡èƒŒæ™¯ */
    --text-main: #2C3E50;       
    --text-sub: #5D5D5D;
    
    --line-green: #06C755;
    --nav-height: 70px;
    --footer-bg: #4A3B32;
    --shadow-card: 0 10px 30px rgba(0,0,0,0.06);
    --border-radius: 12px;
    --error-color: #E53E3E;
}

* { box-sizing: border-box; }

body {
    margin: 0; padding: 0;
    font-family: 'Noto Sans TC', sans-serif;
    background-color: var(--bg-light);
    color: var(--text-main);
    line-height: 1.7;
    padding-top: var(--nav-height);
    display: flex; flex-direction: column; min-height: 100vh;
}

a { text-decoration: none; color: inherit; transition: 0.3s; cursor: pointer; }
ul { list-style: none; padding: 0; margin: 0; }
img { max-width: 100%; display: block; }

/* ---------------------------------------------------- */
/* --- 2. å°è¦½åˆ— (Navbar) --- */
/* ---------------------------------------------------- */
.navbar {
    position: fixed; top: 0; left: 0; width: 100%;
    height: var(--nav-height);
    background: rgba(255, 255, 255, 0.98);
    box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    z-index: 1000;
    display: flex; justify-content: center;
}
.nav-container {
    width: 100%; max-width: 1200px;
    display: flex; justify-content: space-between; align-items: center;
    padding: 0 20px;
}
.nav-logo {
    font-size: 22px; font-weight: 700; color: var(--primary-color);
    letter-spacing: 1px; display: flex; align-items: center; gap: 8px;
}
.nav-menu { display: flex; gap: 5px; align-items: center; }
.nav-link {
    display: flex; align-items: center; gap: 6px;
    padding: 10px 15px; font-size: 15px; font-weight: 500;
    color: var(--text-main); border-radius: 6px;
}
.nav-link:hover { color: var(--cta-bg); background-color: #fdf5e6; }
.nav-link.active { color: var(--cta-bg); font-weight: 700; }

/* Dropdown Menu */
.nav-item { position: relative; }
.dropdown-menu {
    position: absolute; top: 100%; left: 0;
    background: white; min-width: 180px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.1);
    border-radius: 8px; padding: 10px 0;
    opacity: 0; visibility: hidden; transform: translateY(10px);
    transition: all 0.3s ease; text-align: left;
}
.nav-item:hover .dropdown-menu { opacity: 1; visibility: visible; transform: translateY(0); }
.dropdown-link { display: block; padding: 10px 20px; font-size: 14px; color: var(--text-sub); }
.dropdown-link:hover { background-color: #fdf5e6; color: var(--cta-bg); }

.nav-btn-booking {
    background-color: var(--primary-color); color: white !important;
    padding: 8px 20px; border-radius: 50px; margin-left: 10px;
}
.nav-btn-booking:hover { background-color: #2c5370; }
.menu-toggle { display: none; cursor: pointer; }
.bar { display: block; width: 25px; height: 3px; background: var(--text-main); margin: 5px auto; transition: 0.3s; }

/* ---------------------------------------------------- */
/* --- 3. Hero Header --- */
/* ---------------------------------------------------- */
.hero-header {
    position: relative;
    min-height: 400px;
    display: flex; flex-direction: column;
    justify-content: center; align-items: center;
    text-align: center; color: white;
    background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), 
                url('images/cover-bg.jpg');
    background-size: cover; 
    background-position: center; 
    background-attachment: fixed;
    margin-bottom: 40px;
}
.hero-title {
    font-size: 42px; font-weight: 900; 
    margin: 0 0 10px 0; letter-spacing: 3px;
    text-shadow: 2px 2px 8px rgba(0,0,0,0.3);
}
.hero-subtitle {
    font-size: 20px; font-weight: 300;
    letter-spacing: 4px;
    text-transform: uppercase;
    opacity: 0.9;
}

/* ---------------------------------------------------- */
/* --- 4. ç°½ç½²é é¢æ¨£å¼ --- */
/* ---------------------------------------------------- */
.container { max-width: 900px; margin: 0 auto; padding: 20px 20px 80px; flex: 1; }

#capture-area {
    background-color: var(--bg-white);
    padding: 50px;
    border-radius: var(--border-radius);
    box-shadow: var(--shadow-card);
    border-top: 5px solid var(--accent-warm);
    margin-bottom: 30px;
}

.doc-header { text-align: center; border-bottom: 1px solid #eee; padding-bottom: 20px; margin-bottom: 30px; }
.doc-header h2 { margin: 0; font-size: 28px; color: var(--primary-color); }
.doc-header p { margin: 5px 0 0; color: var(--accent-warm); font-size: 14px; letter-spacing: 2px; }

/* è¡¨å–®å€ */
.booking-info-wrapper {
    background-color: #F8FAFC; padding: 30px; border-radius: 8px;
    margin-bottom: 40px; border: 1px dashed #CBD5E0;
}
.date-group { text-align: center; margin-bottom: 25px; }
.date-label { display: block; font-weight: bold; color: var(--primary-color); margin-bottom: 8px; }
.date-input {
    padding: 12px; border: 1px solid #CBD5E0; border-radius: 4px;
    font-family: inherit; font-size: 16px; width: 100%; max-width: 350px; text-align: center;
}
.user-info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; border-top: 1px dashed #E0E0E0; padding-top: 20px; }
.form-group { display: flex; flex-direction: column; }
.form-label { font-size: 14px; color: var(--text-sub); margin-bottom: 5px; font-weight: bold; }
.form-input {
    padding: 12px; border: 1px solid #CBD5E0; border-radius: 4px; font-size: 16px;
}

/* åˆç´„å€å¡Š */
.contract-section { margin-bottom: 30px; }
.section-title {
    font-size: 18px; font-weight: bold; color: var(--primary-color);
    margin-bottom: 15px; border-left: 4px solid var(--cta-bg); padding-left: 10px; margin-top: 40px;
}

/* â˜… ä¿®æ­£å¾Œçš„æ¨™ç±¤æ¨£å¼ (å¯¦é«”æ¨™ç±¤ï¼Œéå½å…ƒç´ ) â˜… */
.contract-option { padding: 20px; margin-bottom: 15px; border-radius: 6px; font-size: 14px; text-align: justify; border: 1px solid transparent; }

.contract-option.disabled {
    background: #F1F5F9; color: #A0AEC0; border-color: #E2E8F0;
}
.contract-option.selected {
    background: #FFFCF5; color: var(--text-main); border-color: var(--accent-warm);
}

/* å¯¦é«”æ¨™ç±¤æ¨£å¼ */
.status-badge {
    display: inline-block; padding: 4px 12px; border-radius: 4px; 
    font-size: 12px; font-weight: bold; margin-bottom: 10px;
}
.badge-gray { background: #CBD5E0; color: white; }
.badge-gold { background: var(--accent-warm); color: white; }

.legal-text-content { line-height: 1.6; }
.legal-indent { display: block; margin-left: 1.5em; text-indent: -1.5em; margin-bottom: 5px; }

/* è¦å‰‡åˆ—è¡¨ */
.rule-block { margin-bottom: 25px; }
.rule-title { font-weight: bold; color: var(--text-main); margin-bottom: 8px; display: flex; gap:8px; align-items: center; font-size: 16px; }
.rule-title i { color: var(--cta-bg); }
.rule-content ul { padding-left: 20px; margin: 0; font-size: 14px; color: var(--text-sub); line-height: 1.8; }
.rule-content li { margin-bottom: 8px; text-align: justify; }
.price { color: #C53030; font-weight: bold; background: rgba(197, 48, 48, 0.05); padding: 0 4px; border-radius: 2px; }

/* ç°½åæ¿ */
.signature-wrapper {
    margin: 40px 0 20px 0; padding: 20px;
    background: #EDF2F7; border-radius: 12px;
    text-align: center; border: 1px solid #CBD5E0;
}
.sign-box {
    width: 100%; max-width: 500px; height: 250px;
    background: #fff; border: 2px dashed #A0AEC0;
    margin: 15px auto; position: relative; touch-action: none; border-radius: 8px;
}
canvas { display: block; width: 100%; height: 100%; cursor: crosshair; }
.sign-hint {
    position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
    color: #CBD5E0; font-size: 24px; font-weight: bold; pointer-events: none;
}
.btn-clear {
    background: transparent; border: 1px solid #CBD5E0; color: var(--text-sub);
    padding: 5px 15px; font-size: 14px; cursor: pointer; border-radius: 4px; margin-top: 10px;
}
.date-stamp { font-family: monospace; color: var(--text-main); margin-top: 15px; font-size: 14px; }

/* æŒ‰éˆ•å€ */
.action-area { text-align: center; margin-top: 40px; }
.download-group { display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; }
.btn-download {
    border: none; padding: 15px 35px; font-size: 16px; font-weight: bold;
    border-radius: 50px; cursor: pointer; transition: 0.3s;
    display: inline-flex; align-items: center; gap: 10px; min-width: 220px; justify-content: center;
}
.btn-img { background: var(--accent-warm); color: white; }
.btn-pdf { background: var(--primary-color); color: white; }

/* ---------------------------------------------------- */
/* --- 5. Footer (å®Œæ•´é‚„åŸ) --- */
/* ---------------------------------------------------- */
footer { background-color: var(--footer-bg); color: #d7ccc8; padding: 60px 20px 20px; margin-top: auto;}
.footer-grid {
    max-width: 1100px; margin: 0 auto;
    display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 40px;
}
.footer-title {
    color: white; font-size: 19px; font-weight: 600;
    border-bottom: 2px solid var(--cta-bg); padding-bottom: 10px; margin-bottom: 20px; display: inline-block;
}
.footer-link {
    display: flex; align-items: center; gap: 10px; color: #d7ccc8;
    margin-bottom: 12px; transition: 0.3s;
}
.footer-link:hover { color: var(--cta-bg); transform: translateX(5px); }

.keyword-cloud { display: flex; flex-wrap: wrap; gap: 8px; }
.seo-tag {
    background: rgba(255,255,255,0.1); color: #d7ccc8; font-size: 13px;
    padding: 4px 10px; border-radius: 4px; border: 1px solid rgba(255,255,255,0.15);
    transition: 0.3s; cursor: default;
}
.seo-tag:hover { background: var(--cta-bg); color: white; border-color: var(--cta-bg); }

/* RWD */
@media (max-width: 768px) {
    .menu-toggle { display: block; }
    .nav-menu {
        position: fixed; top: 0; right: -100%; width: 80%; height: 100vh;
        background: white; flex-direction: column; padding-top: 80px;
        transition: 0.4s; box-shadow: -5px 0 15px rgba(0,0,0,0.1);
        align-items: flex-start;
    }
    .nav-menu.active { right: 0; }
    .nav-link { width: 100%; padding: 15px 30px; border-bottom: 1px solid #eee; }
    .dropdown-menu { position: static; box-shadow: none; display: none; opacity: 1; visibility: visible; transform: none; padding-left: 20px; background: #f9f9f9; }
    .nav-item.active .dropdown-menu { display: block; }
    
    .hero-title { font-size: 32px; }
    .hero-subtitle { font-size: 16px; letter-spacing: 2px; }
    
    #capture-area { padding: 25px 15px; }
    .user-info-grid { grid-template-columns: 1fr; }
    .download-group { flex-direction: column; }
}

.sticky-line {
    position: fixed; bottom: 30px; right: 30px;
    background: var(--line-green); color: white;
    width: 60px; height: 60px; border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    font-size: 32px; box-shadow: 0 5px 20px rgba(6,199,85,0.4);
    z-index: 999; animation: float 3s ease-in-out infinite; cursor: pointer;
}
@keyframes float { 0%,100%{transform:translateY(0);} 50%{transform:translateY(-8px);} }
</style>
</head>
<body>

    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <i class="fa-solid fa-house-chimney" style="color:var(--cta-bg);"></i>
                æºé ‚æ°‘å®¿
            </div>
            
            <div class="menu-toggle" id="mobile-menu-btn">
                <span class="bar"></span><span class="bar"></span><span class="bar"></span>
            </div>
            
            <ul class="nav-menu" id="nav-menu">
                <li class="nav-item"><a href="index.html" class="nav-link"><i class="fa-solid fa-house"></i> é¦–é </a></li>
                <li class="nav-item"><a href="rooms.html" class="nav-link"><i class="fa-solid fa-bed"></i> æˆ¿å‹ä»‹ç´¹</a></li>
                
                <li class="nav-item dropdown">
                    <a href="agreement.html" class="nav-link active dropdown-toggle">
                        <i class="fa-solid fa-file-signature"></i> å…¥ä½é ˆçŸ¥ <i class="fa-solid fa-angle-down"></i>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="signature.html" class="dropdown-link"><i class="fa-solid fa-pen-nib"></i> ç·šä¸Šç°½ç½²</a></li>
                    </ul>
                </li>
                
                <li class="nav-item"><a href="traffic.html" class="nav-link"><i class="fa-solid fa-car"></i> äº¤é€šåœè»Š</a></li>
                
                <li class="nav-item dropdown">
                    <a href="travel.html" class="nav-link dropdown-toggle">
                        <i class="fa-solid fa-map-location-dot"></i> æ—…éŠè¡Œç¨‹ <i class="fa-solid fa-angle-down"></i>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="attractions.html" class="dropdown-link">å‘¨é‚Šæ™¯é»</a></li>
                        <li><a href="food.html" class="dropdown-link">é¹½åŸ•ç¾é£Ÿåœ°åœ–</a></li>
                    </ul>
                </li>

                <li class="nav-item">
                    <a href="check.html" class="nav-link nav-btn-booking">
                        <i class="fa-solid fa-calendar-check"></i> æŸ¥è©¢ç©ºæˆ¿
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <a href="javascript:void(0)" onclick="sendToLine()" class="sticky-line">
        <i class="fa-brands fa-line"></i>
    </a>

    <header class="hero-header">
        <h1 class="hero-title">ä½å®¿å¥‘ç´„ç°½ç½²</h1>
        <div class="hero-subtitle">ONLINE SIGNATURE</div>
    </header>

    <div class="container">
        
        <div id="capture-area">
            <div class="doc-header">
                <h2>æºé ‚æ°‘å®¿ ä½å®¿å¥‘ç´„èˆ‡è¦ç¯„</h2>
                <p>Godin B&B Accommodation Contract</p>
            </div>

            <div id="booking-info" class="booking-info-wrapper">
                <div class="date-group">
                    <label class="date-label"><i class="fa-regular fa-calendar-check"></i> è«‹é¸æ“‡å…¥ä½èˆ‡é€€æˆ¿æ—¥æœŸ</label>
                    <input type="text" id="date-range-picker" class="date-input" placeholder="é»æ“Šé¸æ“‡æ—¥æœŸç¯„åœ..." readonly>
                </div>
                
                <div class="user-info-grid">
                    <div class="form-group">
                        <label class="form-label">è¨‚æˆ¿äººå§“å (Name)</label>
                        <input type="text" id="booker-name" class="form-input" placeholder="è«‹è¼¸å…¥çœŸå¯¦å§“å">
                    </div>
                    <div class="form-group">
                        <label class="form-label">è¯çµ¡é›»è©± (Phone)</label>
                        <input type="tel" id="booker-phone" class="form-input" placeholder="09xxxxxxxx (é™å°ç£æ‰‹æ©Ÿ)">
                    </div>
                </div>
            </div>

            <div class="contract-section">
                <div class="section-title">ä¸€ã€å®šå‹åŒ–å¥‘ç´„æ¢æ¬¾</div>
                <p style="font-size:14px; color:#666; margin-bottom:15px;">æ—…å®¢è¨‚æˆ¿ä¸€å¾‹æŒ‰ã€Œè¡Œæ”¿é™¢æ—…å®¿å®šå‹åŒ–å¥‘ç´„æ¢æ¬¾ã€é æ”¶ç´„å®šæˆ¿åƒ¹ç¸½é‡‘é¡ï¼Œæ—…å®¢è§£é™¤å¥‘ç´„æ™‚å¯ä¾ä¸‹åˆ—æ–¹å¼ä¹‹è™•ç†ï¼š</p>

                <div class="contract-option disabled">
                    <div class="status-badge badge-gray">æœ¬æ¡ˆä¸é©ç”¨</div>
                    <div class="legal-text-content">
                        <strong>â–¡ æ¯”ä¾‹é€€é‚„é æ”¶ç´„å®šæˆ¿åƒ¹ç¸½é‡‘é¡ï¼š</strong><br>
                        <span class="legal-indent">(ä¸€)æ—…å®¢è§£ç´„é€šçŸ¥æ–¼é å®šä½å®¿æ—¥å‰ç¬¬ä¸‰æ—¥ä»¥å‰åˆ°é”è€…ï¼Œæ¥­è€…æ‡‰é€€é‚„é æ”¶ç´„å®šæˆ¿åƒ¹ç¸½é‡‘é¡ç™¾åˆ†ä¹‹ç™¾ã€‚</span>
                        <span class="legal-indent">(äºŒ)æ—…å®¢è§£ç´„é€šçŸ¥æ–¼é å®šä½å®¿æ—¥å‰ç¬¬ä¸€æ—¥è‡³ç¬¬äºŒæ—¥åˆ°é”è€…ï¼Œæ¥­è€…æ‡‰é€€é‚„é æ”¶ç´„å®šæˆ¿åƒ¹ç¸½é‡‘é¡ç™¾åˆ†ä¹‹äº”åã€‚</span>
                        <span class="legal-indent">(ä¸‰)æ—…å®¢è§£ç´„é€šçŸ¥æ–¼é å®šä½å®¿æ—¥ç•¶æ—¥åˆ°é”æˆ–æœªç‚ºè§£ç´„é€šçŸ¥è€…ï¼Œæ¥­è€…å¾—ä¸é€€é‚„é æ”¶ç´„å®šæˆ¿åƒ¹ç¸½é‡‘é¡ã€‚</span>
                    </div>
                </div>

                <div class="contract-option selected">
                    <div class="status-badge badge-gold">â˜‘ é›™æ–¹åˆæ„é©ç”¨</div>
                    <div class="legal-text-content">
                        <strong>â–¡ ä¸€å¹´å…§ä¿ç•™å·²ä»˜é‡‘é¡ä½œç‚ºæ—¥å¾Œæ¶ˆè²»æŠ˜æŠµä½¿ç”¨ï¼š</strong><br>
                        <span class="legal-indent">(ä¸€)æ—…å®¢è§£ç´„é€šçŸ¥æ–¼é å®šä½å®¿æ—¥ç•¶æ—¥å‰åˆ°é”è€…ï¼Œå¾—æ–¼ä¸€å¹´å…§ä¿ç•™å·²ä»˜é‡‘é¡ä½œç‚ºæ—¥å¾Œæ¶ˆè²»æŠ˜æŠµä½¿ç”¨ã€‚</span>
                        <span class="legal-indent">(äºŒ)æ—…å®¢è§£ç´„é€šçŸ¥æ–¼é å®šä½å®¿æ—¥ç•¶æ—¥åˆ°é”æˆ–æœªç‚ºè§£ç´„é€šçŸ¥è€…ï¼Œæ¥­è€…å¾—ä¸é€€é‚„é æ”¶ç´„å®šæˆ¿åƒ¹ç¸½é‡‘é¡ã€‚</span>
                    </div>
                    <div style="margin-top:10px; border-top:1px dashed #B07D62; padding-top:10px; font-size:13px; color:#888;">
                        * ç‰¹åˆ¥ç´„å®šï¼šæ—…å®¢åŒæ„ä»¥å„ªæƒ åƒ¹æ ¼é è¨‚ï¼Œé›™æ–¹åˆæ„åƒ…ä¾æ­¤æ¢æ¬¾ä½œç‚ºè§£ç´„è™•ç†æ–¹å¼ã€‚
                    </div>
                </div>
            </div>

            <div class="contract-section">
                <div class="section-title">äºŒã€ä½å®¿ç”Ÿæ´»å…¬ç´„</div>
                
                <div class="rule-block">
                    <div class="rule-title"><i class="fa-solid fa-users"></i> è¨‚æˆ¿èˆ‡æŠ¼é‡‘é ˆçŸ¥</div>
                    <div class="rule-content">
                        <ul>
                            <li>è«‹ä¾å¯¦éš›è¨‚æˆ¿äººæ•¸å…¥ä½ï¼Œè¶…å‡ºé å®šäººæ•¸å…¥ä½éƒ¨åˆ†åŠ æ”¶æ¯äºº <span class="price">1,800å…ƒ/æ—¥</span>ï¼Œå¦‚éœ€è¦åŠ äºº(åºŠ)ï¼Œè«‹æ–¼å…¥ä½å‰ä¸€æ—¥å‘ŠçŸ¥ï¼Œä¸¦åŠ æ”¶è¶…å‡ºé å®šäººæ•¸æ¯äºº <span class="price">1,000å…ƒ/æ—¥</span>ï¼ˆå‡æ—¥æˆ–é€£çºŒå‡æœŸç‚ºæ¯äºº <span class="price">1,500å…ƒ/æ—¥</span>ï¼‰ã€‚</li>
                            <li><strong>æŠ¼é‡‘è¦å®šï¼š</strong>ç‚ºç¢ºä¿é›™æ–¹æ¬Šç›Šï¼Œè¾¦ç†å…¥ä½æ™‚éœ€æ”¶å–æŠ¼é‡‘ <span class="price">5,000å…ƒ</span>ã€‚æ–¼é€€æˆ¿å¾Œç¢ºèªç„¡ä»»ä½•è¨­å‚™æå£ï¼Œä¸”æœªé•åå…¥ä½é ˆçŸ¥ï¼ˆå«éæ–¼é«’äº‚ï¼‰å¾Œå…¨æ•¸åŒ¯æ¬¾é€€é‚„ã€‚</li>
                        </ul>
                    </div>
                </div>

                <div class="rule-block">
                    <div class="rule-title"><i class="fa-solid fa-clock"></i> é€²é€€æˆ¿æ™‚é–“</div>
                    <div class="rule-content">
                        <ul>
                            <li>é€²æˆ¿æ™‚é–“ï¼šå…¥ä½ç•¶æ—¥ <strong>16:00PM</strong> ä»¥å¾Œã€‚(è‹¥æƒ…æ³å…è¨±ï¼Œå¯ç¶“ç”±æ°‘å®¿ä¸»äººåŒæ„å¾Œææ—©å…¥ä½ã€‚å…¥ä½æ™‚è«‹å‡ºç¤ºèº«åˆ†è­‰æˆ–è­·ç…§è¾¦ç†ä½å®¿ç™»è¨˜ï¼Œä¸¦ç•¶å ´ç¹³æ¸…é¤˜æ¬¾ã€‚æœ€æ™šè«‹æ–¼å…¥ä½ç•¶æ—¥ 21:00PM å‰å®ŒæˆCheck-inå…¥ä½æ‰‹çºŒ)</li>
                            <li>é€€æˆ¿æ™‚é–“ï¼šé€€æˆ¿ç•¶æ—¥ <strong>11:00AM</strong> ä»¥å‰ã€‚</li>
                            <li>æœªç¶“æ°‘å®¿ä¸»äººåŒæ„å»¶é²é€€æˆ¿ï¼Œä¸€å°æ™‚åŠ æ”¶ <span class="price">1,500å…ƒ</span>ï¼Œè¶…éäº”å°æ™‚ä»¥ä¸€æ—¥åŒ…æ£Ÿå®šåƒ¹ <span class="price">(34,800)</span> è¨ˆç®—ã€‚</li>
                        </ul>
                    </div>
                </div>

                <div class="rule-block">
                    <div class="rule-title" style="color:var(--error-color);"><i class="fa-solid fa-ban"></i> ç¦æ­¢è¡Œç‚º</div>
                    <div class="rule-content">
                        <ul>
                            <li>æœ¬æ°‘å®¿å…¨æ£Ÿç¦æ­¢ã€Œå¸è¸ã€ã€ã€Œå¸æ¯’ã€ã€ã€Œè³­åšã€ã€ã€Œåš¼æª³æ¦”ã€ã€ã€Œç‡ƒæ”¾çˆ†ç«¹ã€åŠä»»ä½•é•åå–„è‰¯é¢¨ä¿—ä¹‹ä¸æ³•è¡Œç‚ºã€‚å¦‚æœ‰æŠ½è¸éœ€æ±‚è«‹è‡³ä¸€æ¨“æˆ¶å¤–å€ã€‚è‹¥æœ‰é•æ³•è¡Œç‚ºå°‡ç›´æ¥å ±è­¦è™•ç†ä¸å¦è¡Œé€šçŸ¥ã€‚</li>
                            <li>æœ¬æ—…å®¿<strong>éå¯µç‰©å‹å–„æ—…å®¿</strong>ï¼Œåˆ‡å‹¿æ”œå¸¶å¯µç‰©å…¥ä½ï¼Œä»¥ç¶­è­·æ—…å®¢æ¬Šç›Šï¼ˆäº‹å‰è©¢å•ä¸”ç¶“æ¥­ä¸»åŒæ„*ä¸æ¥å—å…¥ä½ç•¶å¤©è©¢å•*æ”œå¸¶å¯µç‰©å…¥ä½è€…ï¼Œé…Œæ”¶æ¸…æ½”è²» <span class="price">$800å…ƒ/å¹³æ—¥ã€$1000å…ƒ/å‡æ—¥</span>ï¼Œä¸”é€ æˆæå£ä»éœ€ç…§åƒ¹è³ å„Ÿï¼‰ã€‚</li>
                            <li>é™¤ç•¶æ—¥å…¥ä½æˆ¿å®¢ä¹‹å¤–ï¼Œæ•ä¸å°å¤–é–‹æ”¾åƒè§€ï¼Œä¸”åš´ç¦éç•¶æ—¥å…¥ä½æˆ¿å®¢ä»¥å¤–äººå£«é€²å…¥ä»¥ç¶­æŒä½å®¿å“è³ªåŠå®‰å…¨ï¼Œæ•¬è«‹è¦‹è«’ã€‚</li>
                            <li>åŒ…æ£Ÿé–‹æ”¾å€åŸŸç‚ºä¸€æ¨“å»šæˆ¿èˆ‡æ‰€é–‹ç«‹ä¹‹æˆ¿é–“å¤–ï¼Œå…¶é¤˜åœ°æ–¹(åŒ…å«é ‚æ¨“éœ²å°èˆ‡é€šå¾€é ‚æ¨“ä¹‹æ¨“æ¢¯é–“)ç‚ºå±‹ä¸»ç§äººç©ºé–“ï¼Œæœªç¶“åŒæ„åš´ç¦äººå“¡é€²å…¥ï¼Œè‹¥ç¶“ç™¼ç¾å°‡é€•è¡Œä¾æ³•(åˆ‘æ³•306æ¢)è™•ç†ã€‚</li>
                        </ul>
                    </div>
                </div>

                <div class="rule-block">
                    <div class="rule-title"><i class="fa-solid fa-sink"></i> å‚™å“èˆ‡ç¶­è­·</div>
                    <div class="rule-content">
                        <ul>
                            <li>æ°‘å®¿ä¸ä¸»å‹•æä¾›æ›´æ›æ•å¥—ã€åºŠå–®ã€æµ´å·¾ç­‰å‚™å“ï¼Œå¦‚éœ€ä»˜è²»æ›´æ›è«‹ä¸»å‹•å‘ŠçŸ¥ã€‚</li>
                            <li>é€£çºŒå…¥ä½ä¹‹æˆ¿å®¢ï¼ŒåŸå‰‡ä¸Šæä¾›æ¯3æ—¥æ›´æ›ä¸€æ¬¡æµ´å·¾ä¹‹å…è²»æœå‹™ï¼Œç‚ºé¡§åŠæˆ¿å®¢éš±ç§ï¼Œéœ€æ›´æ›æµ´å·¾ä¹‹æˆ¿å®¢è«‹å°‡ä½¿ç”¨éä¹‹æµ´å·¾çµ±ä¸€é›†ä¸­æ–¼ä¸€æ¨“å…¬å…±ç©ºé–“ï¼Œæ›¿æ›ä¹‹ä¹¾æ·¨æµ´å·¾ä¹Ÿæœƒçµ±ä¸€æ”¾ç½®æ–¼ä¸€æ¨“å…¬å…±ç©ºé–“ã€‚</li>
                            <li>é–‹æ”¾å¼å®¢å»³ä¹‹å¾®æ³¢çˆã€ç†±æ°´å£ºã€å†°ç®±ã€é›»è¦–ã€é¤å…·ã€å¨›æ¨‚è¨­æ–½æ–¼å…¥ä½æœŸé–“å…è²»æä¾›æˆ¿å®¢ä½¿ç”¨ï¼ŒæƒŸä½¿ç”¨å¾Œè«‹æ¢å¾©åŸè²ŒåŠå¦¥å–„æ¸…æ½”ï¼Œä¸¦è«‹éš¨æ‰‹é—œç‡ˆã€å†·æ°£åŠç¯€ç´„ç”¨æ°´ï¼Œæœªéµå®ˆè€…è¦–æƒ…æ³æ‰£é™¤æŠ¼é‡‘ã€‚</li>
                        </ul>
                    </div>
                </div>

                <div class="rule-block">
                    <div class="rule-title"><i class="fa-solid fa-triangle-exclamation"></i> å®‰å…¨ã€å®‰å¯§èˆ‡è³ å„Ÿ</div>
                    <div class="rule-content">
                        <ul>
                            <li><strong>å®‰å¯§æ™‚é–“ï¼š</strong>æ°‘å®¿ä½æ–¼ä½å®…å€ï¼Œç‚ºç¶­è­·ç¤¾å€ä»–äººå®‰å¯§ï¼Œå…¥ä½æˆ¿å®¢è«‹æ–¼æ¯æ—¥ <span class="price">23:00è‡³éš”æ—¥08:00</span> æœŸé–“é™ä½éŸ³é‡ï¼Œæ°‘å®¿å…§å¤–å‹¿å¤§è²å–§å˜©ã€å’†å“®ï¼Œè‹¥ç¶“å±¢å‹¸ç„¡æ•ˆå‰‡è¦æ±‚ç«‹å³é€€æˆ¿ï¼Œæ•ç„¡é€€é‚„æˆ¿è²»ã€‚</li>
                            <li><strong>è²¡ç‰©å®‰å…¨ï¼š</strong>åŒ…æ£ŸæœŸé–“ï¼Œæ°‘å®¿ä¸»äººæˆ–ç®¡å®¶ä»ä¿ç•™å…¬å…±ç©ºé–“é€²å‡ºèˆ‡ç¶­è­·ç®¡ç†ä¹‹æ¬Šåˆ©ã€‚æˆ¿å®¢å¤–å‡ºæ™‚ï¼Œè«‹é–ä¸Šæˆ¿é–€ï¼Œè²´é‡ç‰©å“è«‹éš¨èº«æ”œå¸¶å°å¿ƒä¿ç®¡ï¼Œå¦‚æœ‰éºå¤±ä¸äºˆç†è³ ã€‚</li>
                            <li><strong>è³ å„Ÿåƒ¹ç›®è¡¨ï¼š</strong><br>
                                - å¯¢å…·ç”¨å“æ²¾ä¸Šè¡€æ¼¬ã€å˜”åç‰©ã€æ’æ³„ç‰©ã€ç´…é…’æ¼¬ç­‰ï¼Œæ”¶å–ç‰¹æ®Šæ¸…æ½”è²» <span class="price">500ï½2,000å…ƒ</span>ã€‚<br>
                                - å…¬å…±ç©ºé–“ä½¿ç”¨å®Œç•¢è‹¥æœªå¦¥å–„å¾©åŸï¼Œæ”¶å–é¡å¤–æ¸…æ½”è²»ç”¨ <span class="price">500ï½5,000å…ƒ</span>ã€‚<br>
                                - è‹¥ç™¼ç¾å®¤å…§å¸ç…™è¡Œç‚ºï¼Œ<strong>ç›´æ¥æ‰£é™¤å…¨é¡æŠ¼é‡‘ <span class="price">5,000å…ƒ</span> ä½œç‚ºæ¸…æ½”è²»ã€‚</strong>
                            </li>
                        </ul>
                    </div>
                </div>
                
                <div style="background:#F0F4F8; color:#4A5568; padding:15px; font-size:13px; border-radius:4px; margin-top:10px;">
                    <strong>è¦ç¯„é™åˆ¶è²æ˜ï¼š</strong> åœ¨æ‚¨è¨‚æˆ¿çš„åŒæ™‚ï¼Œå°‡è¦–åŒäº†è§£ä¸¦æ¥å—ä¸Šè¿°å®‰å…¨è¦å®šèˆ‡é™åˆ¶ï¼Œè‹¥é•åä¸Šè¿°é™åˆ¶èˆ‡è¦å®šè‚‡ç”Ÿä»»ä½•æ„å¤–ï¼Œä¸å¾—å°æ°‘å®¿èˆ‡æ°‘å®¿è² è²¬äººé€²è¡Œä»»ä½•ä¹‹ç©¶è²¬èˆ‡ç´¢è³ è¡Œç‚ºã€‚
                </div>
            </div>

            <div id="signature-wrapper" class="signature-wrapper">
                <div style="font-weight:bold; margin-bottom:5px; color:#2D3748;">æ—…å®¢ç°½å (Signature)</div>
                <div style="font-size:14px; color:#666;">æœ¬äººå·²è©³é–±ä¸¦åŒæ„ä¸Šè¿°æ‰€æœ‰æ¢æ¬¾</div>
                
                <div class="sign-box" id="sign-box">
                    <span class="sign-hint" id="sign-hint">è«‹åœ¨æ­¤ç°½å</span>
                    <canvas id="signature-canvas"></canvas>
                </div>
                
                <button class="btn-clear" onclick="clearPad()">
                    <i class="fa-solid fa-rotate-right"></i> æ¸…é™¤é‡ç°½
                </button>
                <div id="date-display" class="date-stamp"></div>
            </div>
        </div>
        <div class="action-area">
            <p style="margin-bottom:15px; font-weight:bold; color:#2D3748;">å®Œæˆç°½åå¾Œï¼Œè«‹é¸æ“‡ä¸‹è¼‰æ–¹å¼ï¼š</p>
            <div class="download-group">
                <button class="btn-download btn-img" onclick="handleGenerate('image')">
                    <i class="fa-solid fa-image"></i> å­˜åˆ°æ‰‹æ©Ÿç›¸ç°¿ (JPG)
                </button>
                <button class="btn-download btn-pdf" onclick="handleGenerate('pdf')">
                    <i class="fa-solid fa-file-pdf"></i> ä¸‹è¼‰åˆç´„ (PDF)
                </button>
            </div>
            <p style="font-size:13px; color:#666; margin-top:15px;">â€» æª”æ¡ˆç”Ÿæˆå¯èƒ½éœ€è¦å¹¾ç§’é˜ï¼Œè«‹ç¨å€™</p>
        </div>

    </div>

    <footer>
        <div class="footer-grid">
            <div>
                <div class="footer-title">é—œæ–¼ æºé ‚æ°‘å®¿</div>
                <p style="line-height: 1.8; text-align: justify; color: #d7ccc8;">
                    æºé ‚æ°‘å®¿ (Godin B&B) ä½æ–¼é«˜é›„å¸‚é¹½åŸ•å€å¤§å…¬è·¯å··å¼„å…§ï¼Œè‡´åŠ›æ–¼æä¾›åƒå®¶ä¸€æ¨£æº«æš–çš„åŒ…æ£Ÿä½å®¿é«”é©—ã€‚æˆ‘å€‘çµåˆäº†è€å±‹çš„å¾©å¤é¢¨æƒ…èˆ‡ç¾ä»£åŒ–çš„ä¾¿åˆ©è¨­æ–½ï¼Œæ˜¯æ‚¨æ¢ç´¢é«˜é›„æ¸¯ç£çš„æœ€ä½³è½è…³è™•ã€‚
                </p>
            </div>
            <div>
                <div class="footer-title">è¯çµ¡æˆ‘å€‘</div>
                <a href="https://goo.gl/maps/placeholder" target="_blank" class="footer-link">
                    <i class="fa-solid fa-location-dot"></i> é«˜é›„å¸‚é¹½åŸ•å€å¤§å…¬è·¯70å··6-2è™Ÿ
                </a>
                <a href="tel:0932828922" class="footer-link">
                    <i class="fa-solid fa-phone"></i> 0932-828-922
                </a>
                <a href="javascript:void(0)" onclick="sendToLine()" class="footer-link">
                    <i class="fa-brands fa-line"></i> LINE å®˜æ–¹å¸³è™Ÿè¯ç¹«
                </a>
                <div style="margin-top: 15px; font-size: 14px; color: #a1887f;">
                    <i class="fa-solid fa-clock"></i> å®¢æœæ™‚é–“: 09:00 - 21:00
                </div>
            </div>
            
            <div>
                <div class="footer-title">ç†±é–€é—œéµå­—</div>
                <div class="keyword-cloud">
                    <span class="seo-tag">é«˜é›„åŒ…æ£Ÿ</span>
                    <span class="seo-tag">é«˜é›„åŒ…æ£Ÿæ°‘å®¿</span>
                    <span class="seo-tag">é«˜é›„10äººåŒ…æ£Ÿ</span>
                    <span class="seo-tag">é¹½åŸ•å€æ°‘å®¿</span>
                    <span class="seo-tag">é§äºŒä½å®¿</span>
                    <span class="seo-tag">é«˜é›„éº»å°‡æ°‘å®¿</span>
                    <span class="seo-tag">è¦ªå­å‹å–„åŒ…æ£Ÿ</span>
                    <span class="seo-tag">æ·é‹ç«™ä½å®¿</span>
                </div>
            </div>
        </div>
        <div style="text-align: center; border-top: 1px solid rgba(255,255,255,0.1); margin-top: 50px; padding-top: 20px; font-size: 13px; color: #a1887f;">
            Â© 2025 Godin B&B æºé ‚æ°‘å®¿. All Rights Reserved.
        </div>
    </footer>

    <div onclick="sendToLine()" class="sticky-line">
        <i class="fa-brands fa-line"></i>
    </div>

    <script>
        const LINE_DEEP_LINK = "line://ti/p/@575tprig";
        function sendToLine() {
            const message = "ä½ å¥½ï¼æˆ‘æƒ³è©¢å•è¨‚æˆ¿äº‹å®œ ğŸ ";
            navigator.clipboard.writeText(message).catch(() => {});
            window.location.href = LINE_DEEP_LINK;
        }

        let datePicker;
        const { jsPDF } = window.jspdf; 

        document.addEventListener('DOMContentLoaded', function() {
            datePicker = flatpickr("#date-range-picker", {
                mode: "range",
                minDate: "today",
                dateFormat: "Y-m-d",
                conjunction: " è‡³ ",
                locale: "zh_tw"
            });

            const mobileBtn = document.getElementById('mobile-menu-btn');
            const navMenu = document.getElementById('nav-menu');
            const dropdownToggles = document.querySelectorAll('.dropdown-toggle');

            mobileBtn.addEventListener('click', () => {
                mobileBtn.classList.toggle('active');
                navMenu.classList.toggle('active');
            });

            dropdownToggles.forEach(toggle => {
                toggle.addEventListener('click', (e) => {
                    if (window.innerWidth <= 768) {
                        e.preventDefault();
                        const parent = toggle.parentElement;
                        parent.classList.toggle('active');
                    }
                });
            });
        });

        const canvas = document.getElementById('signature-canvas');
        const ctx = canvas.getContext('2d');
        const wrapper = document.getElementById('sign-box');
        const hint = document.getElementById('sign-hint');
        let isDrawing = false;
        let hasSigned = false;

        function resize() {
            const ratio = Math.max(window.devicePixelRatio || 1, 1);
            canvas.width = wrapper.offsetWidth * ratio;
            canvas.height = wrapper.offsetHeight * ratio;
            ctx.scale(ratio, ratio);
            ctx.strokeStyle = "#000"; ctx.lineWidth = 2; ctx.lineCap = "round"; ctx.lineJoin = "round";
        }
        window.addEventListener('resize', resize);
        resize();

        function start(e) { isDrawing = true; hasSigned = true; hint.style.display = 'none'; ctx.beginPath(); draw(e); }
        function end() { isDrawing = false; ctx.beginPath(); }
        function draw(e) {
            if(!isDrawing) return;
            const rect = canvas.getBoundingClientRect();
            let x, y;
            if(e.type.includes('touch')) {
                x = e.touches[0].clientX - rect.left;
                y = e.touches[0].clientY - rect.top;
            } else {
                x = e.clientX - rect.left;
                y = e.clientY - rect.top;
            }
            ctx.lineTo(x, y); ctx.stroke(); ctx.beginPath(); ctx.moveTo(x, y);
        }

        canvas.addEventListener('mousedown', start);
        canvas.addEventListener('mouseup', end);
        canvas.addEventListener('mousemove', draw);
        canvas.addEventListener('touchstart', start, {passive: false});
        canvas.addEventListener('touchend', end);
        canvas.addEventListener('touchmove', draw, {passive: false});

        function clearPad() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            resize(); hint.style.display = 'block'; hasSigned = false;
        }

        async function handleGenerate(type) {
            const nameInput = document.getElementById('booker-name');
            const phoneInput = document.getElementById('booker-phone');
            const dateInput = document.getElementById('date-range-picker');
            const clearBtn = document.querySelector('.btn-clear');

            if (!datePicker || datePicker.selectedDates.length !== 2) {
                alert("è«‹å…ˆé¸æ“‡ã€Œå…¥ä½èˆ‡é€€æˆ¿æ—¥æœŸã€ï¼"); scrollToError('booking-info'); return;
            }
            if (!nameInput.value.trim() || !phoneInput.value.trim()) {
                alert("è«‹å¡«å¯«å§“åèˆ‡è¯çµ¡é›»è©±ï¼"); scrollToError('booking-info'); return;
            }
            if (!hasSigned) {
                alert("è«‹åœ¨ä¸‹æ–¹ç°½åæ¬„å®Œæˆç°½åï¼"); scrollToError('signature-wrapper'); return;
            }

            const now = new Date();
            document.getElementById('date-display').innerText = `ç°½ç½²æ™‚é–“ï¼š${now.getFullYear()}/${now.getMonth()+1}/${now.getDate()} ${now.getHours()}:${now.getMinutes()}`;
            const fileName = `æºé ‚æ°‘å®¿åˆç´„_${nameInput.value.trim()}`;

            const originalInputs = [];
            
            const replaceInput = (inputNode) => {
                const span = document.createElement('span');
                span.textContent = inputNode.value;
                span.className = inputNode.className;
                span.style.border = 'none';
                span.style.fontWeight = 'bold';
                span.style.display = 'inline-block';
                span.style.padding = '12px 0';
                inputNode.parentNode.replaceChild(span, inputNode);
                originalInputs.push({ parent: span.parentNode, newNode: span, oldNode: inputNode });
            };

            replaceInput(dateInput);
            replaceInput(nameInput);
            replaceInput(phoneInput);

            clearBtn.style.display = 'none';

            try {
                const captureArea = document.getElementById("capture-area");
                const canvas = await html2canvas(captureArea, { scale: 2, useCORS: true, allowTaint: true, backgroundColor: "#ffffff", logging: false });
                
                if (type === 'image') {
                    const link = document.createElement('a');
                    link.download = fileName + '.jpg';
                    link.href = canvas.toDataURL('image/jpeg', 0.9);
                    link.click();
                } else {
                    const imgData = canvas.toDataURL('image/jpeg', 1.0);
                    const pdf = new jsPDF('p', 'mm', 'a4');
                    const pdfW = pdf.internal.pageSize.getWidth();
                    const imgH = (canvas.height * pdfW) / canvas.width;
                    
                    if (imgH > 297) { 
                        const pdfLong = new jsPDF('p', 'mm', [210, (imgH * 210 / pdfW) + 20]);
                        pdfLong.addImage(imgData, 'JPEG', 0, 0, 210, (imgH * 210 / pdfW));
                        pdfLong.save(fileName + '.pdf');
                    } else {
                        pdf.addImage(imgData, 'JPEG', 0, 0, pdfW, imgH);
                        pdf.save(fileName + '.pdf');
                    }
                }
                alert("åˆç´„å·²ç”Ÿæˆï¼è«‹æŸ¥æ”¶ä¸‹è¼‰è³‡æ–™å¤¾ã€‚");
            } catch (err) {
                console.error("æˆªåœ–å¤±æ•—:", err);
                alert("ç”Ÿæˆå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚");
            } finally {
                originalInputs.forEach(item => {
                    item.parent.replaceChild(item.oldNode, item.newNode);
                });
                clearBtn.style.display = 'block';
                resize();
            }
        }

        function scrollToError(id) {
            const el = document.getElementById(id);
            el.scrollIntoView({ behavior: 'smooth', block: 'center' });
            el.classList.add('highlight-error');
            setTimeout(() => el.classList.remove('highlight-error'), 1000);
        }
    </script>

</body>
</html>