<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>ç·šä¸Šç°½ç½²ä½å®¿å¥‘ç´„ | ä½ å¥½å“‡å¯“æ‰€</title>
    <meta name="description" content="ä½ å¥½å“‡å¯“æ‰€ç·šä¸Šä½å®¿å¥‘ç´„ç°½ç½²é é¢ã€‚">
    <meta name="robots" content="noindex, nofollow"> 

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&family=Noto+Serif+TC:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/zh_tw.js"></script>

    <style>
        /* =========================================
           Design System
           ========================================= */
        :root {
            --c-primary: #1A202C;       
            --c-accent: #C5A065;        
            --c-accent-hover: #A68550;
            --c-bg-body: #F9F9F7;       
            --c-bg-white: #FFFFFF;
            --c-bg-light: #EDF2F7;
            --c-text-gray: #555555; 
            --c-line: #06C755;
            --c-alert: #C53030;
            --theme-dark-bg: #1A202C;
            --font-serif: 'Noto Serif TC', serif; 
            --font-sans: 'Noto Sans TC', sans-serif; 
            --shadow-card: 0 10px 30px -5px rgba(0, 0, 0, 0.05);
            --radius-md: 12px;
        }

        *, *::before, *::after { box-sizing: border-box; }
        
        body {
            margin: 0;
            font-family: var(--font-sans);
            background-color: var(--c-bg-body);
            color: var(--c-primary);
            line-height: 1.8;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow-x: hidden; /* é˜²æ­¢å¼·åˆ¶æ»¿ç‰ˆæ™‚å‡ºç¾æ©«å‘å·è»¸ */
        }

        a { text-decoration: none; color: inherit; transition: 0.3s; }
        img { display: block; max-width: 100%; height: auto; }
        ul { list-style: none; padding: 0; margin: 0; }

        /* =========================================
           Navbar & Menu Alignment Fix
           ========================================= */
        .navbar { background: rgba(26, 32, 44, 0.95); backdrop-filter: blur(10px); height: 70px; width: 100%; position: fixed; top: 0; left: 0; z-index: 9999; border-bottom: 1px solid rgba(197, 160, 101, 0.3); box-shadow: 0 4px 20px rgba(0,0,0,0.1); }
        .nav-container { display: flex; justify-content: space-between; align-items: center; height: 100%; max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .nav-logo { color: var(--c-accent); font-family: var(--font-serif); font-size: 1.5rem; font-weight: 700; letter-spacing: 1px; }
        .nav-menu { display: flex; align-items: center; gap: 20px; margin: 0; padding: 0; list-style: none; }
        
        /* â˜… ä¿®æ­£é¸å–®å°é½Šï¼šå¼·åˆ¶ç›¸å°å®šä½ */
        .nav-item { position: relative !important; }
        
        .nav-link { color: #fff; font-size: 0.95rem; font-weight: 500; padding: 10px 5px; position: relative; display: flex; align-items: center; gap: 6px; transition: 0.3s; white-space: nowrap; }
        .nav-link:hover, .nav-link.active { color: var(--c-accent); }
        .nav-link::after { content: ''; position: absolute; width: 0; height: 2px; bottom: 5px; left: 0; background-color: var(--c-accent); transition: width 0.3s; }
        .nav-link:hover::after { width: 100%; }
        
        .nav-link.nav-btn-booking::after { display: none; }
        .nav-btn-booking { background-color: var(--c-accent); color: white !important; padding: 8px 20px; border-radius: 50px; font-weight: bold; border: 1px solid var(--c-accent); }
        .nav-btn-booking:hover { background-color: var(--c-accent-hover); transform: translateY(-2px); }

        /* â˜… ä¿®æ­£ä¸‹æ‹‰é¸å–®ä½ç½® */
        .dropdown-menu { 
            position: absolute; 
            top: 100%; 
            left: 50% !important; 
            transform: translateX(-50%) translateY(10px) !important; 
            background: #fff; 
            width: 200px; 
            list-style: none; 
            padding: 10px 0; 
            border-radius: 8px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.15); 
            opacity: 0; 
            visibility: hidden; 
            transition: all 0.3s ease; 
            border-top: 3px solid var(--c-accent); 
            margin: 0; 
            text-align: left;
        }
        .dropdown:hover .dropdown-menu { opacity: 1; visibility: visible; transform: translateX(-50%) translateY(0) !important; }
        .dropdown-link { display: flex; align-items: center; gap: 10px; padding: 12px 20px; color: var(--c-primary); font-size: 0.9rem; transition: 0.2s; }
        .dropdown-link i { color: var(--c-accent); width: 20px; text-align: center; }
        .dropdown-link:hover { background-color: var(--c-bg-light); color: var(--c-accent); padding-left: 25px; }
        
        .menu-toggle { display: none; cursor: pointer; }
        .bar { display: block; width: 25px; height: 3px; margin: 5px auto; background-color: var(--c-accent); transition: 0.3s; }
        .arrow-icon { font-size: 12px; margin-left: 2px; transition: 0.3s; }
        .nav-item:hover .arrow-icon { transform: rotate(180deg); }

        /* Mobile Menu Fix */
        @media (max-width: 960px) {
            .menu-toggle { display: block; }
            .nav-menu { position: fixed; left: -100%; top: 70px; flex-direction: column; background-color: #1A202C; width: 100%; height: calc(100vh - 70px); text-align: center; transition: 0.3s; padding-top: 0; gap: 0; align-items: stretch; overflow-y: auto; }
            .nav-menu.active { left: 0; }
            .nav-item { width: 100%; border-bottom: 1px solid rgba(255,255,255,0.05); position: static !important; /* Mobile doesn't need relative */ }
            .nav-link::after { display: none; }
            .nav-link { display: flex; align-items: center; justify-content: flex-start; padding: 0; font-size: 1.1rem; color: #ffffff !important; width: 100%; }
            .nav-link span { flex-grow: 1; padding: 20px 30px; text-align: left; display: flex; align-items: center; gap: 12px; }
            .arrow-icon { margin-left: 0; width: 60px; height: 65px; display: flex; align-items: center; justify-content: center; border-left: 1px solid rgba(255,255,255,0.1); background: rgba(0,0,0,0.1); cursor: pointer; }
            .dropdown-menu { position: static !important; opacity: 1 !important; visibility: visible !important; transform: none !important; width: 100%; background-color: #0d1117 !important; box-shadow: inset 0 5px 10px rgba(0,0,0,0.5) !important; border-top: none !important; display: none; padding: 0 !important; }
            .dropdown.active .dropdown-menu { display: block; }
            .dropdown-link { color: #e2e8f0 !important; padding: 18px 30px 18px 50px !important; justify-content: flex-start !important; width: 100%; border-bottom: 1px solid rgba(255,255,255,0.03); font-size: 1rem !important; }
            .nav-link.nav-btn-booking { justify-content: center; background: var(--c-accent); border: none; margin: 20px auto; width: 80%; text-align: center; padding: 15px; }
            .nav-link.nav-btn-booking span { justify-content: center; padding: 0; }
        }

        /* =========================================
           Hero Section
           ========================================= */
        .hero { position: relative; height: 40vh; min-height: 300px; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; color: white; background-color: var(--c-primary); overflow: hidden; margin-top: 70px; }
        .hero-bg { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-image: url('images/cover.jpg'); background-size: cover; background-position: center 30%; opacity: 0.6; z-index: 1; }
        .hero-content { position: relative; z-index: 2; padding: 0 20px; }
        .hero h1 { font-family: var(--font-serif); font-size: 2.2rem; margin-bottom: 10px; font-weight: 700; letter-spacing: 2px; }
        .hero p { font-size: 1rem; margin-bottom: 0; font-weight: 300; opacity: 0.9; letter-spacing: 1px; }

        /* =========================================
           Main Container
           ========================================= */
        .container { width: 90%; max-width: 900px; margin: 0 auto; padding: 80px 0; flex: 1; position: relative; }

        /* Form Styles */
        #capture-area { background-color: var(--c-bg-white); padding: 50px; border: 1px solid #E2E8F0; box-shadow: 0 10px 30px rgba(0,0,0,0.05); border-radius: 12px; position: relative; border-top: 5px solid var(--c-accent); }
        .doc-header { text-align: center; border-bottom: 1px solid #E2E8F0; padding-bottom: 20px; margin-bottom: 30px; }
        .doc-header h2 { margin: 0; font-size: 1.8rem; color: var(--c-primary); font-family: var(--font-serif); }
        .doc-header p { margin: 5px 0 0; font-size: 0.9rem; color: var(--c-accent); letter-spacing: 1px; }
        .booking-info-wrapper { background-color: #FFFBF2; padding: 30px; border-radius: 8px; margin-bottom: 40px; border: 1px dashed var(--c-accent); transition: all 0.3s ease; }
        .date-group { text-align: center; margin-bottom: 25px; }
        .date-label { font-size: 1rem; color: var(--c-accent); margin-bottom: 10px; font-weight: bold; display: block; }
        .date-input { padding: 12px; border: 1px solid #CBD5E0; border-radius: 4px; font-family: var(--font-sans); color: var(--c-primary); font-size: 1rem; background: #fff; width: 100%; max-width: 350px; text-align: center; cursor: pointer; }
        .user-info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; border-top: 1px dashed #E0D0B8; padding-top: 20px; }
        .form-group { display: flex; flex-direction: column; text-align: left; }
        .form-label { font-size: 0.9rem; color: var(--c-text-gray); margin-bottom: 8px; font-weight: bold; }
        .form-input { padding: 12px; border: 1px solid #CBD5E0; border-radius: 4px; font-size: 1rem; background: #fff; transition: 0.3s; font-family: var(--font-sans); }
        .form-input:focus { border-color: var(--c-accent); outline: none; box-shadow: 0 0 0 2px rgba(183, 149, 91, 0.2); }
        .highlight-error { animation: shake 0.5s ease-in-out; border-color: var(--c-alert) !important; box-shadow: 0 0 10px rgba(197, 48, 48, 0.2); background-color: #FFF5F5; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }

        /* Contract Text */
        .section-title { font-size: 1.3rem; font-weight: bold; color: var(--c-primary); margin-bottom: 20px; border-left: 4px solid var(--c-accent); padding-left: 15px; margin-top: 40px; }
        .contract-option { padding: 20px; margin-bottom: 20px; border-radius: 8px; font-size: 0.95rem; text-align: justify; }
        .contract-option.disabled { border: 1px dashed #CBD5E0; background: var(--c-bg-light); color: #A0AEC0; position: relative; }
        .contract-option.disabled::before { content: "æœ¬æ¡ˆä¸é©ç”¨"; position: absolute; top: -10px; left: 15px; background: #CBD5E0; color: #fff; font-size: 12px; padding: 2px 8px; border-radius: 4px; }
        .contract-option.selected { border: 2px solid var(--c-accent); background: #FFFCF5; color: var(--c-primary); position: relative; }
        .contract-option.selected::before { content: "â˜‘ é›™æ–¹åˆæ„é©ç”¨"; position: absolute; top: -12px; left: 15px; background: var(--c-accent); color: white; font-size: 13px; padding: 2px 10px; border-radius: 4px; font-weight: bold; }
        .legal-indent { display: block; margin-left: 2em; text-indent: -2em; margin-bottom: 8px; }

        /* Rules */
        .rules-section { margin-top: 30px; border-top: 3px double #E2E8F0; padding-top: 30px; }
        .rule-block { margin-bottom: 25px; }
        .rule-title { font-size: 1.1rem; font-weight: bold; color: var(--c-primary); margin-bottom: 10px; display: flex; align-items: center; }
        .rule-title i { margin-right: 10px; color: var(--c-accent); }
        .rule-content { font-size: 0.95rem; color: var(--c-text-gray); padding-left: 24px; text-align: justify; }
        .rule-content ul { margin: 5px 0; padding-left: 18px; }
        .rule-content li { margin-bottom: 8px; }
        .price { color: var(--c-alert); font-weight: bold; font-family: monospace; background: rgba(197, 48, 48, 0.1); padding: 0 4px; border-radius: 2px;}

        /* Signature Pad */
        .signature-wrapper { margin: 40px 0 20px 0; padding: 30px; background: #EDF2F7; border-radius: 12px; text-align: center; border: 1px solid #CBD5E0; }
        .sign-box { width: 100%; max-width: 500px; height: 250px; background: #fff; border: 2px solid #2D3748; margin: 15px auto; position: relative; touch-action: none; border-radius: 4px;}
        canvas { display: block; width: 100%; height: 100%; }
        .sign-hint { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: #CBD5E0; font-size: 24px; font-weight: bold; pointer-events: none; }
        .date-stamp { font-family: Consolas, monospace; color: var(--c-primary); font-weight: bold; font-size: 0.9rem; margin-top: 15px; display: block; }
        .btn-clear-inline { background: transparent; border: none; color: #718096; padding: 5px 10px; font-size: 0.9rem; cursor: pointer; transition: 0.3s; display: inline-flex; align-items: center; gap: 5px; margin-top: 10px; }
        .btn-clear-inline:hover { color: var(--c-alert); text-decoration: underline; }

        /* Action Buttons */
        .action-area { margin-top: 50px; text-align: center; padding-bottom: 40px; }
        .download-btn-group { display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; }
        .btn-download-img, .btn-download-pdf { border: none; padding: 15px 35px; font-size: 1.1rem; font-weight: bold; border-radius: 50px; cursor: pointer; transition: 0.3s; display: inline-flex; align-items: center; justify-content: center; gap: 10px; min-width: 220px; }
        .btn-download-img { background: var(--c-accent); color: white; box-shadow: 0 4px 15px rgba(183, 149, 91, 0.3); }
        .btn-download-img:hover { transform: translateY(-3px); background-color: #A68550; }
        .btn-download-pdf { background: var(--c-primary); color: white; box-shadow: 0 4px 15px rgba(45, 55, 72, 0.3); }
        .btn-download-pdf:hover { transform: translateY(-3px); background-color: #000; }
        .generating .fa-spinner { display: inline-block !important; }

        /* =========================================
           â˜… Footer Fix (æ»¿ç‰ˆå¼·åˆ¶ä¿®æ­£)
           ========================================= */
        .footer { 
            background-color: var(--theme-dark-bg); 
            color: #aaa; 
            padding: 80px 0 40px; 
            border-top: 3px solid var(--c-accent); 
            width: 100%; 
            margin-top: auto; 
            text-align: left; 
            
            /* é—œéµä¿®æ­£ï¼šç¢ºä¿ä¸è¢«å£“ç¸®ï¼Œä¸”å¼·åˆ¶è·³è„«çˆ¶å®¹å™¨é™åˆ¶ */
            flex-shrink: 0;
            position: relative;
            z-index: 10;
            /* ä¸‹é¢é€™å…©è¡Œæ˜¯ã€Œç ´æ¡†ã€çš„é­”æ³•ï¼Œç¢ºä¿å³ä½¿è¢«åŒ…åœ¨containerè£¡ä¹Ÿèƒ½å…¨å¯¬ */
            width: 100vw; 
            margin-left: calc(-50vw + 50%);
        }
        .footer-grid { display: grid; grid-template-columns: 1.5fr 1fr 1fr; gap: 50px; margin-bottom: 50px; max-width: 1100px; margin: 0 auto; padding: 0 20px; }
        .footer h3 { color: white; font-size: 1.1rem; margin-bottom: 25px; font-family: var(--font-serif); letter-spacing: 1px; }
        .footer-desc { line-height: 1.8; margin-bottom: 20px; text-align: left; color: #CBD5E0; }
        .footer-desc strong { color: #fff; font-weight: 500; }
        .contact-row { margin-bottom: 15px; display: flex; align-items: flex-start; gap: 12px; }
        .contact-row i { color: var(--c-accent); margin-top: 5px; width: 25px; text-align: center; flex-shrink: 0; }
        .seo-tags span { display: inline-block; font-size: 12px; border: 1px solid #333; padding: 4px 10px; border-radius: 4px; margin: 0 5px 8px 0; cursor: default; }
        .copyright { text-align: center; padding-top: 30px; border-top: 1px solid #222; font-size: 0.85rem; }
        
        .sticky-btn { position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px; background-color: var(--c-line); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 30px; box-shadow: 0 5px 20px rgba(6,199,85,0.4); z-index: 999; transition: 0.3s; }
        .sticky-btn:hover { transform: scale(1.1); background-color: #05b64d; }

        @media (max-width: 960px) {
            .user-info-grid { grid-template-columns: 1fr; }
        }
        @media (max-width: 768px) {
            .footer-grid { grid-template-columns: 1fr; gap: 40px; }
            .container { padding: 50px 0; }
            #capture-area { padding: 30px 20px; }
            .download-btn-group { flex-direction: column; align-items: center; }
        }
        .fade-in { opacity: 0; transform: translateY(20px); transition: opacity 0.8s ease-out, transform 0.8s ease-out; }
        .fade-in.visible { opacity: 1; transform: translateY(0); }
    </style>
</head>
<body>

    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">ä½ å¥½å“‡å¯“æ‰€</a>
            <div class="menu-toggle" id="mobile-menu">
                <span class="bar"></span><span class="bar"></span><span class="bar"></span>
            </div>
            
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="index.html" class="nav-link">
                        <span><i class="fa-solid fa-house"></i> é¦–é </span>
                    </a>
                </li>

                <li class="nav-item">
                    <a href="rooms.html" class="nav-link">
                        <span><i class="fa-solid fa-bed"></i> æˆ¿å‹ä»‹ç´¹</span>
                    </a>
                </li>
                
                <li class="nav-item dropdown">
                    <a href="agreement.html" class="nav-link active dropdown-toggle">
                        <span><i class="fa-solid fa-file-signature"></i> å…¥ä½å¥‘ç´„</span>
                        <i class="fa-solid fa-angle-down arrow-icon"></i> </a>
                    <ul class="dropdown-menu">
                        <li><a href="signature.html" class="dropdown-link"><i class="fa-solid fa-pen-nib"></i> ç·šä¸Šç°½ç´„/æ¢æ¬¾</a></li>
                    </ul>
                </li>

                <li class="nav-item">
                    <a href="traffic.html" class="nav-link">
                        <span><i class="fa-solid fa-car"></i> äº¤é€šåœè»Š</span>
                    </a>
                </li>
                
                <li class="nav-item dropdown">
                    <a href="travel.html" class="nav-link dropdown-toggle">
                        <span><i class="fa-solid fa-map-location-dot"></i> æ—…éŠè¡Œç¨‹</span>
                        <i class="fa-solid fa-angle-down arrow-icon"></i> </a>
                    <ul class="dropdown-menu">
                        <li><a href="attractions.html" class="dropdown-link"><i class="fa-solid fa-location-arrow"></i> å‘¨é‚Šæ™¯é»</a></li>
                        <li><a href="food.html" class="dropdown-link"><i class="fa-solid fa-utensils"></i> ç¾é£Ÿåœ°åœ–</a></li>
                    </ul>
                </li>
                
                <li class="nav-item dropdown">
                    <a href="packages.html" class="nav-link dropdown-toggle" style="color:var(--c-accent);">
                        <span><i class="fa-solid fa-bullhorn"></i> ä½å®¿æƒ…å ±</span>
                        <i class="fa-solid fa-angle-down arrow-icon"></i> </a>
                    <ul class="dropdown-menu">
                        <li><a href="packages-business.html" class="dropdown-link"><i class="fa-solid fa-building"></i> ä¼æ¥­åŒ…æ£Ÿ</a></li>
                        <li><a href="packages-wedding.html" class="dropdown-link"><i class="fa-solid fa-heart"></i> è¿å¨¶åŒ…æ£Ÿ</a></li>
                        <li><a href="packages-family.html" class="dropdown-link"><i class="fa-solid fa-users"></i> å®¶æ—åŒ…æ£Ÿ</a></li>
                        <li><a href="packages-team.html" class="dropdown-link"><i class="fa-solid fa-basketball"></i> çƒéšŠæ¯”è³½</a></li>
                    </ul>
                </li>

                <li class="nav-item">
                    <a href="check.html" class="nav-link nav-btn-booking" style="justify-content: center;">
                        <span><i class="fa-solid fa-calendar-check"></i> æŸ¥è©¢ç©ºæˆ¿</span>
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <a href="javascript:void(0)" onclick="sendToLine()" class="sticky-btn" aria-label="Line è¨‚æˆ¿">
        <i class="fa-brands fa-line"></i>
    </a>

    <header class="hero">
        <div class="hero-bg"></div>
        <div class="hero-content fade-in">
            <h1>ä½å®¿å¥‘ç´„ç°½ç½²</h1>
            <p>ONLINE SIGNATURE</p>
        </div>
    </header>

    <div class="container">
        
        <div id="capture-area">
            <div class="doc-header">
                <h2>ä½å®¿å¥‘ç´„èˆ‡è¦ç¯„</h2>
                <p>Accommodation Contract</p>
            </div>

            <div id="booking-info" class="booking-info-wrapper">
                <div class="date-group">
                    <span class="date-label"><i class="fa-regular fa-calendar-check"></i> è«‹é¸æ“‡å…¥ä½èˆ‡é€€æˆ¿æ—¥æœŸ</span>
                    <input type="text" id="date-range-picker" class="date-input" placeholder="é»æ“Šé¸æ“‡æ—¥æœŸç¯„åœ..." readonly>
                </div>
                
                <div class="user-info-grid">
                    <div class="form-group">
                        <label class="form-label" for="booker-name">è¨‚æˆ¿äººå§“å (Name)</label>
                        <input type="text" id="booker-name" class="form-input" placeholder="è«‹è¼¸å…¥çœŸå¯¦å§“å">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="booker-phone">è¯çµ¡é›»è©± (Phone)</label>
                        <input type="tel" id="booker-phone" class="form-input" placeholder="09xxxxxxxx (é™å°ç£æ‰‹æ©Ÿ)">
                    </div>
                </div>
            </div>

            <div class="legal-section">
                <div class="section-title">ä¸€ã€å®šå‹åŒ–å¥‘ç´„æ¢æ¬¾</div>
                <p style="font-size:0.95rem; margin-bottom:20px; color:#666;">æ—…å®¢è¨‚æˆ¿ä¸€å¾‹æŒ‰ã€Œè¡Œæ”¿é™¢æ—…å®¿å®šå‹åŒ–å¥‘ç´„æ¢æ¬¾ã€é æ”¶ç´„å®šæˆ¿åƒ¹ç¸½é‡‘é¡ï¼Œæ—…å®¢è§£é™¤å¥‘ç´„æ™‚å¯ä¾ä¸‹åˆ—æ–¹å¼ä¹‹è™•ç†ï¼ˆé æ”¶ç´„å®šæˆ¿åƒ¹ç¸½é‡‘é¡è€…ï¼Œä¾ä¸‹åˆ—æ–¹å¼ä¹‹ä¸€è™•ç†ï¼‰ï¼š</p>

                <div class="contract-option disabled">
                    <strong>â–¡ æ¯”ä¾‹é€€é‚„é æ”¶ç´„å®šæˆ¿åƒ¹ç¸½é‡‘é¡ (æœ¬æ¡ˆä¸é©ç”¨)ï¼š</strong>
                    <div class="legal-text-content">
                        <span class="legal-indent">(ä¸€)æ—…å®¢è§£ç´„é€šçŸ¥æ–¼é å®šä½å®¿æ—¥å‰ç¬¬ä¸‰æ—¥ä»¥å‰åˆ°é”è€…ï¼Œæ¥­è€…æ‡‰é€€é‚„é æ”¶ç´„å®šæˆ¿åƒ¹ç¸½é‡‘é¡ç™¾åˆ†ä¹‹ç™¾ã€‚</span>
                        <span class="legal-indent">(äºŒ)æ—…å®¢è§£ç´„é€šçŸ¥æ–¼é å®šä½å®¿æ—¥å‰ç¬¬ä¸€æ—¥è‡³ç¬¬äºŒæ—¥åˆ°é”è€…ï¼Œæ¥­è€…æ‡‰é€€é‚„é æ”¶ç´„å®šæˆ¿åƒ¹ç¸½é‡‘é¡ç™¾åˆ†ä¹‹äº”åã€‚</span>
                        <span class="legal-indent">(ä¸‰)æ—…å®¢è§£ç´„é€šçŸ¥æ–¼é å®šä½å®¿æ—¥ç•¶æ—¥åˆ°é”æˆ–æœªç‚ºè§£ç´„é€šçŸ¥è€…ï¼Œæ¥­è€…å¾—ä¸é€€é‚„é æ”¶ç´„å®šæˆ¿åƒ¹ç¸½é‡‘é¡ã€‚</span>
                    </div>
                </div>

                <div class="contract-option selected">
                    <strong>â–¡ ä¸€å¹´å…§ä¿ç•™å·²ä»˜é‡‘é¡ä½œç‚ºæ—¥å¾Œæ¶ˆè²»æŠ˜æŠµä½¿ç”¨ï¼š</strong>
                    <div class="legal-text-content">
                        <span class="legal-indent">(ä¸€)æ—…å®¢è§£ç´„é€šçŸ¥æ–¼é å®šä½å®¿æ—¥ç•¶æ—¥å‰åˆ°é”è€…ï¼Œå¾—æ–¼ä¸€å¹´å…§ä¿ç•™å·²ä»˜é‡‘é¡ä½œç‚ºæ—¥å¾Œæ¶ˆè²»æŠ˜æŠµä½¿ç”¨ã€‚</span>
                        <span class="legal-indent">(äºŒ)æ—…å®¢è§£ç´„é€šçŸ¥æ–¼é å®šä½å®¿æ—¥ç•¶æ—¥åˆ°é”æˆ–æœªç‚ºè§£ç´„é€šçŸ¥è€…ï¼Œæ¥­è€…å¾—ä¸é€€é‚„é æ”¶ç´„å®šæˆ¿åƒ¹ç¸½é‡‘é¡ã€‚</span>
                    </div>
                    <div style="margin-top:10px; border-top:1px dashed #B7955B; padding-top:10px; font-size:0.9rem; color:#888;">
                        * ç‰¹åˆ¥ç´„å®šï¼šæ—…å®¢åŒæ„ä»¥å„ªæƒ åƒ¹æ ¼é è¨‚ï¼Œé›™æ–¹åˆæ„åƒ…ä¾æ­¤æ¢æ¬¾ä½œç‚ºè§£ç´„è™•ç†æ–¹å¼ã€‚
                    </div>
                </div>
            </div>

            <div class="rules-section">
                <div class="section-title">äºŒã€ä½å®¿ç”Ÿæ´»å…¬ç´„</div>
                
                <div class="rule-block">
                    <div class="rule-title"><i class="fa-solid fa-users"></i> è¨‚æˆ¿èˆ‡æŠ¼é‡‘é ˆçŸ¥</div>
                    <div class="rule-content">
                        <ul>
                            <li>è«‹ä¾å¯¦éš›è¨‚æˆ¿äººæ•¸å…¥ä½ï¼Œè¶…å‡ºé å®šäººæ•¸å…¥ä½éƒ¨åˆ†åŠ æ”¶æ¯äºº <span class="price">1,800å…ƒ/æ—¥</span>ï¼Œå¦‚éœ€è¦åŠ äºº(åºŠ)ï¼Œè«‹æ–¼å…¥ä½å‰ä¸€æ—¥å‘ŠçŸ¥ï¼Œä¸¦åŠ æ”¶è¶…å‡ºé å®šäººæ•¸æ¯äºº <span class="price">1,000å…ƒ/æ—¥</span>ï¼ˆå‡æ—¥æˆ–é€£çºŒå‡æœŸç‚ºæ¯äºº <span class="price">1,500å…ƒ/æ—¥</span>ï¼‰ã€‚</li>
                            <li><strong>æŠ¼é‡‘è¦å®šï¼š</strong>ç‚ºç¢ºä¿é›™æ–¹æ¬Šç›Šï¼Œè¾¦ç†å…¥ä½æ™‚éœ€æ”¶å–æŠ¼é‡‘ <span class="price">5,000å…ƒ</span>ã€‚æ–¼é€€æˆ¿å¾Œç¢ºèªç„¡ä»»ä½•è¨­å‚™æå£ï¼Œä¸”æœªé•åå…¥ä½é ˆçŸ¥ï¼ˆå«éæ–¼é«’äº‚ï¼‰å¾Œå…¨æ•¸åŒ¯æ¬¾é€€é‚„ã€‚</li>
                        </ul>
                    </div>
                </div>

                <div class="rule-block">
                    <div class="rule-title"><i class="fa-solid fa-clock"></i> é€²é€€æˆ¿æ™‚é–“</div>
                    <div class="rule-content">
                        <ul>
                            <li>é€²æˆ¿æ™‚é–“ï¼šå…¥ä½ç•¶æ—¥ <strong>16:00PM</strong> ä»¥å¾Œã€‚(è‹¥æƒ…æ³å…è¨±ï¼Œå¯ç¶“ç”±æ°‘å®¿ä¸»äººåŒæ„å¾Œææ—©å…¥ä½ã€‚å…¥ä½æ™‚è«‹å‡ºç¤ºèº«åˆ†è­‰æˆ–è­·ç…§è¾¦ç†ä½å®¿ç™»è¨˜ï¼Œä¸¦ç•¶å ´ç¹³æ¸…é¤˜æ¬¾ã€‚æœ€æ™šè«‹æ–¼å…¥ä½ç•¶æ—¥ 21:00PM å‰å®ŒæˆCheck-inå…¥ä½æ‰‹çºŒ)</li>
                            <li>é€€æˆ¿æ™‚é–“ï¼šé€€æˆ¿ç•¶æ—¥ <strong>11:00AM</strong> ä»¥å‰ã€‚</li>
                            <li>æœªç¶“æ°‘å®¿ä¸»äººåŒæ„å»¶é²é€€æˆ¿ï¼Œä¸€å°æ™‚åŠ æ”¶ <span class="price">1,500å…ƒ</span>ï¼Œè¶…éäº”å°æ™‚ä»¥ä¸€æ—¥åŒ…æ£Ÿå®šåƒ¹ <span class="price">(34,800)</span> è¨ˆç®—ã€‚</li>
                        </ul>
                    </div>
                </div>

                <div class="rule-block">
                    <div class="rule-title" style="color:var(--c-alert);"><i class="fa-solid fa-ban"></i> ç¦æ­¢è¡Œç‚º</div>
                    <div class="rule-content">
                        <ul>
                            <li>æœ¬æ°‘å®¿å…¨æ£Ÿç¦æ­¢ã€Œå¸è¸ã€ã€ã€Œå¸æ¯’ã€ã€ã€Œè³­åšã€ã€ã€Œåš¼æª³æ¦”ã€ã€ã€Œç‡ƒæ”¾çˆ†ç«¹ã€åŠä»»ä½•é•åå–„è‰¯é¢¨ä¿—ä¹‹ä¸æ³•è¡Œç‚ºã€‚å¦‚æœ‰æŠ½è¸éœ€æ±‚è«‹è‡³ä¸€æ¨“æˆ¶å¤–å€ã€‚è‹¥æœ‰é•æ³•è¡Œç‚ºå°‡ç›´æ¥å ±è­¦è™•ç†ä¸å¦è¡Œé€šçŸ¥ã€‚</li>
                            <li>æœ¬æ—…å®¿<strong>éå¯µç‰©å‹å–„æ—…å®¿</strong>ï¼Œåˆ‡å‹¿æ”œå¸¶å¯µç‰©å…¥ä½ï¼Œä»¥ç¶­è­·æ—…å®¢æ¬Šç›Šï¼ˆäº‹å‰è©¢å•ä¸”ç¶“æ¥­ä¸»åŒæ„*ä¸æ¥å—å…¥ä½ç•¶å¤©è©¢å•*æ”œå¸¶å¯µç‰©å…¥ä½è€…ï¼Œé…Œæ”¶æ¸…æ½”è²» <span class="price">$800å…ƒ/å¹³æ—¥ã€$1000å…ƒ/å‡æ—¥</span>ï¼Œä¸”é€ æˆæå£ä»éœ€ç…§åƒ¹è³ å„Ÿï¼‰ã€‚</li>
                            <li>é™¤ç•¶æ—¥å…¥ä½æˆ¿å®¢ä¹‹å¤–ï¼Œæ•ä¸å°å¤–é–‹æ”¾åƒè§€ï¼Œä¸”åš´ç¦éç•¶æ—¥å…¥ä½æˆ¿å®¢ä»¥å¤–äººå£«é€²å…¥ä»¥ç¶­æŒä½å®¿å“è³ªåŠå®‰å…¨ï¼Œæ•¬è«‹è¦‹è«’ã€‚</li>
                            <li>åŒ…æ£Ÿé–‹æ”¾å€åŸŸç‚ºä¸€æ¨“å»šæˆ¿èˆ‡æ‰€é–‹ç«‹ä¹‹æˆ¿é–“å¤–ï¼Œå…¶é¤˜åœ°æ–¹(åŒ…å«é ‚æ¨“éœ²å°èˆ‡é€šå¾€é ‚æ¨“ä¹‹æ¨“æ¢¯é–“)ç‚ºå±‹ä¸»ç§äººç©ºé–“ï¼Œæœªç¶“åŒæ„åš´ç¦äººå“¡é€²å…¥ï¼Œè‹¥ç¶“ç™¼ç¾å°‡é€•è¡Œä¾æ³•(åˆ‘æ³•306æ¢)è™•ç†ã€‚</li>
                        </ul>
                    </div>
                </div>

                <div class="rule-block">
                    <div class="rule-title"><i class="fa-solid fa-sink"></i> å‚™å“èˆ‡ç¶­è­·</div>
                    <div class="rule-content">
                        <ul>
                            <li>æ°‘å®¿ä¸ä¸»å‹•æä¾›æ›´æ›æ•å¥—ã€åºŠå–®ã€æµ´å·¾ç­‰å‚™å“ï¼Œå¦‚éœ€ä»˜è²»æ›´æ›è«‹ä¸»å‹•å‘ŠçŸ¥ã€‚</li>
                            <li>é€£çºŒå…¥ä½ä¹‹æˆ¿å®¢ï¼ŒåŸå‰‡ä¸Šæä¾›æ¯3æ—¥æ›´æ›ä¸€æ¬¡æµ´å·¾ä¹‹å…è²»æœå‹™ï¼Œç‚ºé¡§åŠæˆ¿å®¢éš±ç§ï¼Œéœ€æ›´æ›æµ´å·¾ä¹‹æˆ¿å®¢è«‹å°‡ä½¿ç”¨éä¹‹æµ´å·¾çµ±ä¸€é›†ä¸­æ–¼ä¸€æ¨“å…¬å…±ç©ºé–“ï¼Œæ›¿æ›ä¹‹ä¹¾æ·¨æµ´å·¾ä¹Ÿæœƒçµ±ä¸€æ”¾ç½®æ–¼ä¸€æ¨“å…¬å…±ç©ºé–“ã€‚ï¼ˆä¾‹å¦‚ï¼š1è™Ÿå…¥ä½ï¼“è™Ÿä¸­åˆæ›´æ›ï¼‰</li>
                            <li>é–‹æ”¾å¼å®¢å»³ä¹‹å¾®æ³¢çˆã€ç†±æ°´å£ºã€å†°ç®±ã€é›»è¦–ã€é¤å…·ã€å¨›æ¨‚è¨­æ–½æ–¼å…¥ä½æœŸé–“å…è²»æä¾›æˆ¿å®¢ä½¿ç”¨ï¼ŒæƒŸä½¿ç”¨å¾Œè«‹æ¢å¾©åŸè²ŒåŠå¦¥å–„æ¸…æ½”ï¼Œä¸¦è«‹éš¨æ‰‹é—œç‡ˆã€å†·æ°£åŠç¯€ç´„ç”¨æ°´ï¼Œæœªéµå®ˆè€…è¦–æƒ…æ³æ‰£é™¤æŠ¼é‡‘ã€‚</li>
                        </ul>
                    </div>
                </div>

                <div class="rule-block">
                    <div class="rule-title"><i class="fa-solid fa-triangle-exclamation"></i> å®‰å…¨ã€å®‰å¯§èˆ‡è³ å„Ÿ</div>
                    <div class="rule-content">
                        <ul>
                            <li><strong>å®‰å¯§æ™‚é–“ï¼š</strong>æ°‘å®¿ä½æ–¼ä½å®…å€ï¼Œç‚ºç¶­è­·ç¤¾å€ä»–äººå®‰å¯§ï¼Œå…¥ä½æˆ¿å®¢è«‹æ–¼æ¯æ—¥ <span class="price">23:00è‡³éš”æ—¥08:00</span> æœŸé–“é™ä½éŸ³é‡ï¼Œæ°‘å®¿å…§å¤–å‹¿å¤§è²å–§å˜©ã€å’†å“®ï¼Œè‹¥ç¶“å±¢å‹¸ç„¡æ•ˆå‰‡è¦æ±‚ç«‹å³é€€æˆ¿ï¼Œæ•ç„¡é€€é‚„æˆ¿è²»ï¼Œä¸ä¾¿ä¹‹è™•è«‹è¦‹è«’ï¼</li>
                            <li><strong>è²¡ç‰©å®‰å…¨ï¼š</strong>åŒ…æ£ŸæœŸé–“ï¼Œæ°‘å®¿ä¸»äººæˆ–ç®¡å®¶ä»ä¿ç•™å…¬å…±ç©ºé–“é€²å‡ºèˆ‡ç¶­è­·ç®¡ç†ä¹‹æ¬Šåˆ©ã€‚æˆ¿å®¢å¤–å‡ºæ™‚ï¼Œè«‹é–ä¸Šæˆ¿é–€ï¼Œè²´é‡ç‰©å“è«‹éš¨èº«æ”œå¸¶å°å¿ƒä¿ç®¡ï¼Œå¦‚æœ‰éºå¤±ä¸äºˆç†è³ ã€‚æ°‘å®¿æ‰€å±¬ä¹‹ç‰©å“åƒ…æä¾›æ—…å®¢ä½å®¿æœŸé–“ä½¿ç”¨ï¼Œè«‹å‹¿ç§è‡ªæ”œå‡ºå¸¶é›¢ï¼Œå¦‚æœ‰æå£æˆ–éºå¤±ï¼Œå°‡ä¾å¸‚åƒ¹è³ å„Ÿã€‚</li>
                            <li><strong>å®‰å…¨æ³¨æ„ï¼š</strong>æ°‘å®¿å…§æœ‰éšæ¢¯ã€æ¬„æ†ã€çª—æˆ¶ç­‰ç­‰è¨­æ–½ï¼Œè«‹æ³¨æ„åŒè¡Œå¹¼ç«¥åŠé•·è€…å®‰å…¨ï¼Œäº’ç›¸ç´„æŸä¸å¾—åœ¨å®¤å¤–èˆ‡å®¤å…§æœ‰è¿½é€ã€å°–å«ã€æ”€çˆ¬ã€æ‰“çƒã€ä½¿ç”¨é™æ§é£›æ©Ÿæˆ–ä»»ä½•å…·æœ‰å±éšªå› å­ä¹‹éŠæˆ²æˆ–è¡Œç‚ºã€‚</li>
                            <li><strong>è³ å„Ÿåƒ¹ç›®è¡¨ï¼š</strong><br>
                                - å¯¢å…·ç”¨å“æ²¾ä¸Šè¡€æ¼¬ã€å˜”åç‰©ã€æ’æ³„ç‰©ã€ç´…é…’æ¼¬ã€æŸ“è‰²ç­‰ç‹€æ³ï¼Œå°‡æ”¶å–ç‰¹æ®Šæ¸…æ½”è²» <span class="price">500ï½2,000å…ƒ</span>ã€‚<br>
                                - å…¬å…±ç©ºé–“ä½¿ç”¨å®Œç•¢è‹¥æœªå¦¥å–„å¾©åŸï¼Œå°‡è¦–æƒ…æ³æ”¶å–é¡å¤–æ¸…æ½”è²»ç”¨ <span class="price">500ï½5,000å…ƒ</span>ã€‚<br>
                                - è‹¥ç™¼ç¾å®¤å…§å¸ç…™è¡Œç‚ºï¼Œ<strong>ç›´æ¥æ‰£é™¤å…¨é¡æŠ¼é‡‘ <span class="price">5,000å…ƒ</span> ä½œç‚ºæ¸…æ½”è²»ã€‚</strong><br>
                                *ä»¥ä¸Šæƒ…æ³å¦‚ç¶“åˆ¤å®šç„¡æ³•æ¸…æ½”å¾©åŸï¼Œå°‡å¦ä¾å¸‚åƒ¹æ”¶å–è³ å„Ÿè²»ç”¨ã€‚
                            </li>
                        </ul>
                    </div>
                </div>
                
                <div style="background:#2D3748; color:#fff; padding:15px; font-size:0.9rem; border-radius:4px; margin-top:10px;">
                    <strong>è¦ç¯„é™åˆ¶è²æ˜ï¼š</strong><br>
                    åœ¨æ‚¨è¨‚æˆ¿çš„åŒæ™‚ï¼Œå°‡è¦–åŒäº†è§£ä¸¦æ¥å—ä¸Šè¿°å®‰å…¨è¦å®šèˆ‡é™åˆ¶ï¼Œè‹¥é•åä¸Šè¿°é™åˆ¶èˆ‡è¦å®šè‚‡ç”Ÿä»»ä½•æ„å¤–ï¼Œä¸å¾—å°æ°‘å®¿èˆ‡æ°‘å®¿è² è²¬äººé€²è¡Œä»»ä½•ä¹‹ç©¶è²¬èˆ‡ç´¢è³ è¡Œç‚ºã€‚å¦‚æ‚¨ç„¡æ³•ç†è§£èˆ‡æ¥å—å®‰å…¨è¦å®šä¹‹å¿…è¦ï¼Œèˆ‡è‡ªèº«è² èµ·å®Œå…¨ä¹‹è²¬ä»»ï¼Œè«‹å¦è¡Œå®‰æ’æ—…ç¨‹ä¸­ä¹‹ä½å®¿é¸æ“‡ã€‚
                </div>
            </div>

            <div class="signature-wrapper">
                <div style="font-weight:bold; margin-bottom:5px; color:#2D3748;">æ—…å®¢ç°½å (Signature)</div>
                <div style="font-size:0.9rem; color:#666;">æœ¬äººå·²è©³é–±ä¸¦åŒæ„ä¸Šè¿°æ‰€æœ‰æ¢æ¬¾</div>
                
                <div class="sign-box" id="sign-wrapper">
                    <span class="sign-hint" id="sign-hint">è«‹åœ¨æ­¤ç°½å</span>
                    <canvas id="signature-canvas"></canvas>
                </div>
                
                <button class="btn-clear-inline" onclick="clearPad()">
                    <i class="fa-solid fa-rotate-right"></i> æ¸…é™¤é‡ç°½
                </button>
                <div id="date-display" class="date-stamp"></div>
            </div>
        </div>

        <div class="action-area">
            <p style="margin-bottom:15px; font-weight:bold; color:#2D3748;">è«‹å®Œæˆç°½åå¾Œï¼Œé¸æ“‡ä¸‹è¼‰æ–¹å¼ï¼š</p>
            <div class="download-btn-group">
                <button class="btn-download-img" onclick="handleGenerate('image')">
                    <i class="fa-solid fa-image"></i> å­˜åˆ°æ‰‹æ©Ÿç›¸ç°¿ (JPG)
                    <i class="fa-solid fa-spinner fa-spin" style="display:none;"></i>
                </button>
                <button class="btn-download-pdf" onclick="handleGenerate('pdf')">
                    <i class="fa-solid fa-file-pdf"></i> ä¸‹è¼‰åˆç´„ (PDF)
                    <i class="fa-solid fa-spinner fa-spin" style="display:none;"></i>
                </button>
            </div>
            <p style="font-size:13px; color:#666; margin-top:15px;">å®Œæˆå¾Œè«‹å°‡æª”æ¡ˆå‚³é€çµ¦æ°‘å®¿ä¸»äººç¢ºèª</p>
        </div>

    </div>
    <footer class="footer">
        <div class="footer-grid">
            <div>
                <h3>é—œæ–¼ ä½ å¥½å“‡å¯“æ‰€</h3>
                <div class="footer-desc">
                    <p>ã€Œä½ å¥½å“‡ãƒ»å¯“æ‰€ã€ä½æ–¼æ“æœ‰æ·±åšæ­·å²åº•è˜Šçš„<strong>é«˜é›„é¹½åŸ•å€</strong>ï¼Œæ˜¯ä¸€é–“ä¿ç•™äº†<strong>è€å±‹æº«åº¦</strong>ä¸”<strong>åˆæ³•</strong>çš„ç²¾ç·»ç¨æ£Ÿæ°‘å®¿ã€‚æˆ‘å€‘æ“æœ‰çµ•ä½³çš„åœ°ç†ä½ç½®ï¼Œé„°è¿‘<strong>æ·é‹é¹½åŸ•åŸ”ç«™</strong>ï¼Œæ­¥è¡Œè‡³<strong>é§äºŒè—è¡“ç‰¹å€</strong>åƒ…éœ€10åˆ†é˜ï¼Œ<strong>å¤§æ¸¯æ©‹</strong>äº¦è¿‘åœ¨å’«å°ºã€‚</p>
                    <p>æˆ‘å€‘å°ˆæ³¨æ–¼æä¾› <strong>6~38äºº</strong> çš„å½ˆæ€§<strong>å¤§ç©ºé–“åŒ…æ£Ÿä½å®¿</strong>ã€‚é¤¨å…§é…ç½®äº†<strong>å¤§å‹ä¸­å³¶å»šæˆ¿</strong>ã€å¯¬æ•èˆ’é©çš„å¤§å®¢å»³èˆ‡å°ˆå±¬<strong>éº»å°‡è¨­å‚™</strong>ã€‚ç„¡è«–æ˜¯æº«é¦¨çš„<strong>å®¶åº­æ—…éŠ</strong>ã€ç†±é¬§çš„<strong>æœ‹å‹èšæœƒ</strong>æˆ–æ˜¯<strong>å“¡å·¥æ—…éŠ</strong>ï¼Œé€™è£¡éƒ½æ˜¯æ‚¨åœ¨é«˜é›„æ¸¯éƒ½çš„æœ€ä½³é¸æ“‡ã€‚</p>
                </div>
            </div>
            <div>
                <h3>è¯çµ¡è³‡è¨Š</h3>
                <div class="contact-row">
                    <i class="fa-solid fa-location-dot"></i>
                    <a href="https://goo.gl/maps/qxGN4mpNP8qfRCB16" target="_blank">é«˜é›„å¸‚é¹½åŸ•å€å¤§å…¬è·¯70å··8è™Ÿ<br>(è¿‘æ·é‹é¹½åŸ•åŸ”ç«™ O2)</a>
                </div>
                <div class="contact-row">
                    <i class="fa-solid fa-phone"></i>
                    <a href="tel:0932828922">0932-828-922</a>
                </div>
                <div class="contact-row">
                    <i class="fa-brands fa-line"></i>
                     <a href="javascript:void(0)" onclick="sendToLine()">LINE ID: @575tprig</a>
                </div>
            </div>
            <div>
                <h3>ç†±é–€é—œéµå­—</h3>
                <div class="seo-tags">
                    <span>é«˜é›„åŒ…æ£Ÿæ¨è–¦</span><span>é¹½åŸ•å€æ°‘å®¿</span><span>é§äºŒä½å®¿</span>
                    <span>éº»å°‡æ°‘å®¿</span><span>ä¸­å³¶å»šæˆ¿</span><span>è¦ªå­ä½å®¿</span><span>æ£§è²³åº«å‘¨é‚Š</span>
                    <span>KTVæ°‘å®¿</span><span>åˆæ³•æ°‘å®¿</span><span>å“¡å·¥æ—…éŠ</span>
                </div>
            </div>
        </div>
        <div class="copyright">
            Â© 2025 ä½ å¥½å“‡å¯“æ‰€ Hello House. All Rights Reserved.
        </div>
    </footer>

    <script>
        const LINE_DEEP_LINK = "line://ti/p/@575tprig";

        function sendToLine() {
            // 1. å®šç¾©æƒ³è®“å®¢äººè¤‡è£½çš„é è¨­æ–‡å­—
            const message = "ä½ å¥½ï¼æˆ‘æƒ³è©¢å•æºé ‚æ°‘å®¿çš„ç©ºæˆ¿èˆ‡å„ªæƒ è³‡è¨Š ğŸ ";

            // 2. å˜—è©¦èƒŒæ™¯éœé»˜è¤‡è£½
            navigator.clipboard.writeText(message).then(() => {
                window.location.href = LINE_DEEP_LINK;
            }).catch(() => {
                window.location.href = LINE_DEEP_LINK;
            });
        }

        let datePicker;
        const { jsPDF } = window.jspdf; 

        document.addEventListener('DOMContentLoaded', function() {
            // 1. æ—¥æœŸé¸æ“‡å™¨
            datePicker = flatpickr("#date-range-picker", {
                mode: "range",
                minDate: "today",
                dateFormat: "Y-m-d",
                conjunction: " è‡³ ",
                locale: "zh_tw"
            });

            // 2. Navbar æ‰‹æ©Ÿç‰ˆé‚è¼¯
            const mobileMenu = document.getElementById('mobile-menu');
            const navMenu = document.querySelector('.nav-menu');
            const allDropdowns = document.querySelectorAll('.dropdown');

            mobileMenu.addEventListener('click', () => {
                mobileMenu.classList.toggle('is-active');
                navMenu.classList.toggle('active');
            });

            // åˆ†æµé»æ“Šé‚è¼¯
            allDropdowns.forEach(dropdown => {
                const link = dropdown.querySelector('.dropdown-toggle');
                const arrow = link.querySelector('.arrow-icon');
                
                if(link && arrow) {
                    arrow.addEventListener('click', (e) => {
                        if (window.innerWidth <= 960) {
                            e.preventDefault(); 
                            e.stopPropagation(); 
                            
                            const isAlreadyOpen = dropdown.classList.contains('active');
                            allDropdowns.forEach(d => d.classList.remove('active'));
                            if (!isAlreadyOpen) {
                                dropdown.classList.add('active');
                            }
                        }
                    });
                }
            });

            // é»æ“Šå¤–éƒ¨é—œé–‰é¸å–®
            document.addEventListener('click', (e) => {
                if (!navMenu.contains(e.target) && !mobileMenu.contains(e.target)) {
                    navMenu.classList.remove('active');
                    mobileMenu.classList.remove('is-active');
                }
            });
            
            // 3. æ²å‹•ç‰¹æ•ˆ
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) entry.target.classList.add('visible');
                });
            }, { threshold: 0.1 });
            document.querySelectorAll('.fade-in').forEach(el => observer.observe(el));
        });

        // 4. ç°½åæ¿åŠŸèƒ½
        const canvas = document.getElementById('signature-canvas');
        const ctx = canvas.getContext('2d');
        const wrapper = document.getElementById('sign-wrapper');
        const hint = document.getElementById('sign-hint');
        let isDrawing = false;
        let hasSigned = false;

        function resize() {
            const ratio = Math.max(window.devicePixelRatio || 1, 1);
            canvas.width = wrapper.offsetWidth * ratio;
            canvas.height = wrapper.offsetHeight * ratio;
            ctx.scale(ratio, ratio);
            ctx.strokeStyle = "#000";
            ctx.lineWidth = 2; 
            ctx.lineCap = "round"; 
            ctx.lineJoin = "round";
        }
        window.addEventListener('resize', resize);
        resize();

        function start(e) { isDrawing = true; hasSigned = true; hint.style.display = 'none'; ctx.beginPath(); draw(e); }
        function end() { isDrawing = false; ctx.beginPath(); }
        function draw(e) {
            if(!isDrawing) return;
            // e.preventDefault(); // ç§»é™¤é€™è¡Œï¼Œäº¤ç”± CSS touch-action è™•ç†
            const rect = canvas.getBoundingClientRect();
            let x, y;
            if(e.type.includes('touch')) {
                x = e.touches[0].clientX - rect.left;
                y = e.touches[0].clientY - rect.top;
            } else {
                x = e.clientX - rect.left;
                y = e.clientY - rect.top;
            }
            ctx.lineTo(x, y); ctx.stroke(); ctx.beginPath(); ctx.moveTo(x, y);
        }

        canvas.addEventListener('mousedown', start);
        canvas.addEventListener('mouseup', end);
        canvas.addEventListener('mousemove', draw);
        canvas.addEventListener('touchstart', start, {passive: false});
        canvas.addEventListener('touchend', end);
        canvas.addEventListener('touchmove', draw, {passive: false});

        function clearPad() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            resize();
            hint.style.display = 'block';
            hasSigned = false;
        }

        // 5. ç”Ÿæˆèˆ‡ä¸‹è¼‰é‚è¼¯ (å«é©—è­‰)
        async function handleGenerate(type) {
            // å–å¾—è¼¸å…¥å€¼
            const name = document.getElementById('booker-name').value.trim();
            const phone = document.getElementById('booker-phone').value.trim();
            
            // æ‰‹æ©Ÿè™Ÿç¢¼æ­£è¦è¡¨é”å¼ (09é–‹é ­ + 8ç¢¼æ•¸å­—)
            const phoneRegex = /^09\d{8}$/;

            // é©—è­‰
            if (!datePicker || datePicker.selectedDates.length !== 2) {
                scrollToError('booking-info');
                alert("è«‹å…ˆé¸æ“‡ã€Œå…¥ä½èˆ‡é€€æˆ¿æ—¥æœŸã€ï¼");
                return;
            }
            if (!name) {
                scrollToError('booker-name');
                alert("è«‹è¼¸å…¥è¨‚æˆ¿äººå§“åï¼");
                return;
            }
            if (!phone) {
                scrollToError('booker-phone');
                alert("è«‹è¼¸å…¥è¯çµ¡é›»è©±ï¼");
                return;
            }
            if (!phoneRegex.test(phone)) {
                scrollToError('booker-phone');
                alert("æ‰‹æ©Ÿè™Ÿç¢¼æ ¼å¼éŒ¯èª¤ï¼è«‹è¼¸å…¥ 10 ç¢¼å°ç£æ‰‹æ©Ÿè™Ÿç¢¼ (å¦‚ 0912345678)");
                return;
            }
            if (!hasSigned) {
                scrollToError('signature-wrapper');
                alert("è«‹åœ¨ä¸‹æ–¹ç°½åæ¬„å®Œæˆç°½åï¼");
                return;
            }

            // æ›´æ–°æ™‚é–“æˆ³è¨˜
            const now = new Date();
            const timeStr = `${now.getFullYear()}/${(now.getMonth()+1).toString().padStart(2,'0')}/${now.getDate().toString().padStart(2,'0')} ${now.getHours().toString().padStart(2,'0')}:${now.getMinutes().toString().padStart(2,'0')}`;
            document.getElementById('date-display').innerText = "ç°½ç½²æ™‚é–“ï¼š" + timeStr;

            // ç”¢ç”Ÿæª”åï¼šå…¥ä½æ—¥æœŸ_å§“å_ä½ å¥½å“‡å¯“æ‰€åˆç´„
            const dateRangeValue = document.getElementById('date-range-picker').value;
            const checkInDate = dateRangeValue.split(' è‡³ ')[0];
            const fileName = `${checkInDate}_${name}_ä½ å¥½å“‡å¯“æ‰€åˆç´„`;

            // é–å®šæŒ‰éˆ•ç‹€æ…‹
            const btn = (type === 'image') ? document.querySelector('.btn-download-img') : document.querySelector('.btn-download-pdf');
            const originalText = btn.innerHTML;
            const allBtns = document.querySelectorAll('.btn-download-img, .btn-download-pdf');
            
            allBtns.forEach(b => b.disabled = true);
            btn.classList.add('generating');

            try {
                const captureArea = document.getElementById("capture-area");
                const canvas = await html2canvas(captureArea, { scale: 2, useCORS: true, backgroundColor: "#ffffff" });
                
                if (type === 'image') {
                    // ä¸‹è¼‰åœ–ç‰‡
                    const link = document.createElement('a');
                    link.download = fileName + '.jpg';
                    link.href = canvas.toDataURL('image/jpeg', 0.9);
                    link.click();
                    
                } else if (type === 'pdf') {
                    // ä¸‹è¼‰ PDF
                    const imgData = canvas.toDataURL('image/jpeg', 1.0);
                    const pdf = new jsPDF('p', 'mm', 'a4');
                    const pdfWidth = pdf.internal.pageSize.getWidth();
                    const pdfHeight = pdf.internal.pageSize.getHeight();
                    const imgProps = pdf.getImageProperties(imgData);
                    const imgHeight = (imgProps.height * pdfWidth) / imgProps.width;
                    
                    // è‡ªé©æ‡‰åˆ†é  (ç°¡å–®ç‰ˆï¼šé•·åœ–æ¨¡å¼)
                    if (imgHeight > pdfHeight) {
                         const pdfLong = new jsPDF('p', 'mm', [210, (imgHeight * 210 / pdfWidth) + 20]); 
                         pdfLong.addImage(imgData, 'JPEG', 0, 0, 210, (imgHeight * 210 / pdfWidth));
                         pdfLong.save(fileName + '.pdf');
                    } else {
                        pdf.addImage(imgData, 'JPEG', 0, 0, pdfWidth, imgHeight);
                        pdf.save(fileName + '.pdf');
                    }
                }
                
                // æˆåŠŸå¾Œæç¤º
                alert("åˆç´„ç”ŸæˆæˆåŠŸï¼è«‹æª¢æŸ¥æ‚¨çš„ä¸‹è¼‰è³‡æ–™å¤¾ã€‚");

            } catch (err) {
                console.error(err);
                alert("ç”Ÿæˆå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦æˆ–æˆªåœ–ä¿å­˜ã€‚");
            } finally {
                allBtns.forEach(b => b.disabled = false);
                btn.classList.remove('generating');
                btn.innerHTML = originalText;
            }
        }

        // è¼”åŠ©ï¼šæ²å‹•åˆ°éŒ¯èª¤æ¬„ä½ä¸¦é«˜äº®
        function scrollToError(elementId) {
            const el = document.getElementById(elementId).closest('div') || document.getElementById(elementId);
            if(elementId === 'booking-info') {
                document.getElementById('booking-info').classList.add('highlight-error');
                setTimeout(() => document.getElementById('booking-info').classList.remove('highlight-error'), 1000);
            } else if (elementId === 'signature-wrapper') {
                document.querySelector('.signature-wrapper').classList.add('highlight-error');
                setTimeout(() => document.querySelector('.signature-wrapper').classList.remove('highlight-error'), 1000);
            } else {
                document.getElementById(elementId).classList.add('highlight-error');
                setTimeout(() => document.getElementById(elementId).classList.remove('highlight-error'), 1000);
            }
            el.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
    </script>

</body>
</html>