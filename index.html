<script>
    // 原有的捲動特效 script ... (請保留)

    // [新增] 手機版漢堡選單控制
    const mobileMenu = document.getElementById('mobile-menu');
    const navMenu = document.querySelector('.nav-menu');

    // 點擊漢堡按鈕，切換選單開關
    mobileMenu.addEventListener('click', () => {
        mobileMenu.classList.toggle('is-active');
        navMenu.classList.toggle('active');
    });

    // 點擊選單連結後，自動收起選單
    const navLinks = document.querySelectorAll('.nav-link');
    navLinks.forEach(link => {
        link.addEventListener('click', () => {
            // 如果不是下拉選單的開關，才收起選單
            if(!link.classList.contains('dropdown-toggle')) {
                navMenu.classList.remove('active');
                mobileMenu.classList.remove('is-active');
            }
        });
    });

    // 手機版下拉選單點擊展開 (Accordion效果)
    const dropdowns = document.querySelectorAll('.dropdown');
    dropdowns.forEach(dropdown => {
        const toggle = dropdown.querySelector('.dropdown-toggle');
        if(toggle) {
            toggle.addEventListener('click', (e) => {
                if (window.innerWidth <= 960) { // 只在手機版生效
                    e.preventDefault(); // 防止跳轉
                    dropdown.classList.toggle('active');
                }
            });
        }
    });
</script>
